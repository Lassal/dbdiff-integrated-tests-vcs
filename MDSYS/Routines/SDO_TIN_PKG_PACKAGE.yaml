schema: MDSYS
name: SDO_TIN_PKG
routineType: PACKAGE
returnParamater:
  name: TO_GEOMETRY.(--return--)
  dataType: OBJECT
  parameterMode: OUT
  ordinalPosition: 0
parameters:
- name: CLIP_TIN.INP
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 1
- name: CLIP_TIN.QRY
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 2
- name: CLIP_TIN.QRY_MIN_RES
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 3
- name: CLIP_TIN.QRY_MAX_RES
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 4
- name: CLIP_TIN.BLKNO
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 5
- name: CLIP_TIN_INTO_PC.TIN_INP
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 1
- name: CLIP_TIN_INTO_PC.TIN_QRY
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 2
- name: CLIP_TIN_INTO_PC.TIN_QRY_MIN_RES
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 3
- name: CLIP_TIN_INTO_PC.TIN_QRY_MAX_RES
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 4
- name: CLIP_TIN_INTO_PC.PC_BASETABLE
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 5
- name: CLIP_TIN_INTO_PC.PC_BASECOL
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 6
- name: CLIP_TIN_INTO_PC.PC_BLKTABLE
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 7
- name: CLIP_TIN_INTO_PC.PC_PTN_PARAMS
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 8
- name: CLIP_TIN_INTO_PC.TIN_BLKNO
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 9
- name: CREATE_TIN.INP
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 1
- name: CREATE_TIN.INPTABLE
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 2
- name: CREATE_TIN.CLSTPCDATATBL
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 3
- name: DROP_DEPENDENCIES.BASETABLE
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: DROP_DEPENDENCIES.COL
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 2
- name: GET_SURFACE_OF_TIN.TIN
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 1
- name: GET_SURFACE_OF_TIN.GEOM2D
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 2
- name: GET_SURFACE_OF_TIN_FOOTPRINT.TIN
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 1
- name: GET_SURFACE_OF_TIN_FOOTPRINT.GEOM2D
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 2
- name: GET_VOLUME_UNDER_TIN.TIN
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 1
- name: GET_VOLUME_UNDER_TIN.GEOM2D
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 2
- name: GET_VOLUME_UNDER_TIN.BASE_HEIGHT
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 3
- name: INIT.BASETABLE
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: INIT.BASECOL
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 2
- name: INIT.BLKTABLE
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 3
- name: INIT.PTN_PARAMS
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 4
- name: INIT.TIN_EXTENT
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 5
- name: INIT.TIN_TOL
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 6
- name: INIT.TIN_TOT_DIMENSIONS
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 7
- name: INIT.TIN_DOMAIN
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 8
- name: INIT.TIN_BREAK_LINES
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 9
- name: INIT.TIN_STOP_LINES
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 10
- name: INIT.TIN_VOID_RGNS
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 11
- name: INIT.TIN_VAL_ATTR_TABLES
  dataType: VARRAY
  parameterMode: IN
  ordinalPosition: 12
- name: INIT.TIN_OTHER_ATTRS
  dataType: OPAQUE/XMLTYPE
  parameterMode: IN
  ordinalPosition: 13
- name: PROJECT_ORDINATES_ONTO_TIN.ORDINATES2D
  dataType: VARRAY
  parameterMode: IN
  ordinalPosition: 1
- name: PROJECT_ORDINATES_ONTO_TIN.TIN
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 2
- name: TO_DEM.TIN
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 1
- name: TO_DEM.DEM
  dataType: OBJECT
  parameterMode: INOUT
  ordinalPosition: 2
- name: TO_DEM.BLOCKSIZE
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 3
- name: TO_DEM.CRS_UNITS_PER_PIXEL
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 4
- name: TO_GEOMETRY.PTS
  dataType: BLOB
  parameterMode: IN
  ordinalPosition: 1
- name: TO_GEOMETRY.TRS
  dataType: BLOB
  parameterMode: IN
  ordinalPosition: 2
- name: TO_GEOMETRY.NUM_PTS
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 3
- name: TO_GEOMETRY.NUM_TRS
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 4
- name: TO_GEOMETRY.TIN_IND_DIM
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 5
- name: TO_GEOMETRY.TIN_TOT_DIM
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 6
- name: TO_GEOMETRY.SRID
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 7
- name: TO_GEOMETRY.BLK_DOMAIN
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 8
- name: TO_GEOMETRY.GET_IDS
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 9
routineDefinition: |-
  PACKAGE sdo_tin_pkg authid current_user AS -- all tables as "schema.table" for simpler interface.
  FUNCTION INIT(
    basetable varchar2,
    basecol varchar2,
    blktable varchar2,
    ptn_params varchar2 default null,
    tin_extent sdo_geometry default null,
    tin_tol NUMBER default 0.000000000000005,
    tin_tot_dimensions NUMBER default 2,
    tin_domain sdo_orgscl_type default null,
    tin_break_lines SDO_GEOMETRY default null,
    tin_stop_lines SDO_GEOMETRY default null,
    tin_void_rgns SDO_GEOMETRY default null,
    tin_val_attr_tables SDO_STRING_ARRAY default null,
    tin_other_attrs SYS.XMLTYPE default null
  ) RETURN SDO_TIN;
  PROCEDURE CREATE_TIN(
    inp sdo_tin,
    inptable varchar2,
    clstpcdatatbl varchar2 default null
  );
  -- works as read if qry is null
  FUNCTION CLIP_TIN(
    inp sdo_tin,
    qry sdo_geometry,
    qry_min_res number,
    qry_max_res number,
    blkno number default null
  ) RETURN MDSYS.SDO_TIN_BLK_TYPE PIPELINED;
  PROCEDURE DROP_DEPENDENCIES(basetable varchar2, col varchar2);
  FUNCTION TO_GEOMETRY(
    pts BLOB,
    trs BLOB,
    num_pts NUMBER,
    num_trs NUMBER,
    tin_ind_dim NUMBER,
    tin_tot_dim NUMBER,
    srid number default null,
    blk_domain sdo_orgscl_type default null,
    get_ids NUMBER default NULL
  ) RETURN MDSYS.SDO_GEOMETRY DETERMINISTIC PARALLEL_ENABLE;
  PROCEDURE TO_DEM(
    tin IN sdo_tin,
    dem IN OUT sdo_georaster,
    blocksize IN NUMBER,
    crs_units_per_pixel IN NUMBER
  );
  --  PRAGMA RESTRICT_REFERENCES(to_geometry, WNDS, WNPS, RNPS);
  /*



    -- works as read if qry is null

    FUNCTION CLIP_Pts(inp sdo_tin,

                      qry sdo_geometry,

                      qry_min_res number, qry_max_res number,

                      blkno number default null)

      RETURN ANYDATASET;

    FUNCTION CLIP_PtIds(inp sdo_tin,

                      qry sdo_geometry,

                      qry_min_res number, qry_max_res number)

      RETURN ANYDATASET;



    -- works as read if qry is null

    FUNCTION CLIP_Triangles(inp sdo_tin, qry sdo_geometry,

                      qry_min_res number, qry_max_res number,

                      blkno number default null)

      RETURN ANYDATASET;

    FUNCTION CLIP_TriangleIds(inp sdo_tin, qry sdo_geometry,

                      qry_min_res number, qry_max_res number,

                      blkno number default null)

      RETURN ANYDATASET;

  */
  function clip_tin_into_pc(
    tin_inp sdo_tin,
    tin_qry sdo_geometry,
    tin_qry_min_res number,
    tin_qry_max_res number,
    pc_basetable varchar2,
    pc_basecol varchar2,
    pc_blktable varchar2,
    pc_ptn_params varchar2 default null,
    tin_blkno number default null
  ) return mdsys.sdo_pc;
  function project_ordinates_onto_tin(
    ordinates2d sdo_ordinate_array,
    tin sdo_tin
  ) return sdo_ordinate_array deterministic;
  function get_surface_of_tin(tin sdo_tin, geom2d sdo_geometry) return number deterministic;
  function get_surface_of_tin_footprint(tin sdo_tin, geom2d sdo_geometry) return number deterministic;
  function get_volume_under_tin(
    tin sdo_tin,
    geom2d sdo_geometry,
    base_height number
  ) return number deterministic;
  END sdo_tin_pkg;
