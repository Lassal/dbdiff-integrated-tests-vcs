schema: MDSYS
name: SDO_PC_PKG
routineType: PACKAGE
returnParamater:
  name: TO_GEOMETRY.(--return--)
  dataType: OBJECT
  parameterMode: OUT
  ordinalPosition: 0
parameters:
- name: ADD_TO_PC.INP
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 1
- name: ADD_TO_PC.INPTABLE
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 2
- name: CLIP_PC.INP
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 1
- name: CLIP_PC.IND_DIM_QRY
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 2
- name: CLIP_PC.OTHER_DIM_QRY
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 3
- name: CLIP_PC.QRY_MIN_RES
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 4
- name: CLIP_PC.QRY_MAX_RES
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 5
- name: CLIP_PC.BLKNO
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 6
- name: CLIP_PC.INCLUDE_CUSTOM_DIMS
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 7
- name: CLIP_PC_FLAT.GEOMETRY
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 1
- name: CLIP_PC_FLAT.TABLE_NAME
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 2
- name: CLIP_PC_FLAT.TOLERANCE
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 3
- name: CLIP_PC_FLAT.OTHER_DIM_QRY
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 4
- name: CLIP_PC_FLAT.MASK
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 5
- name: CLIP_PC_FLAT_STRING.GEOMETRY
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 1
- name: CLIP_PC_FLAT_STRING.TABLE_NAME
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 2
- name: CLIP_PC_FLAT_STRING.TOLERANCE
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 3
- name: CLIP_PC_FLAT_STRING.OTHER_DIM_QRY
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 4
- name: CLIP_PC_FLAT_STRING.MASK
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 5
- name: CLIP_PC_FLAT_STRING.DOP
  dataType: NUMBER
  numericPrecision: 38
  parameterMode: IN
  ordinalPosition: 6
- name: CLIP_PC_FLAT_STRING.SDO_LEVEL
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 7
- name: CLIP_PC_FLAT_STRING.SDO_NTILES
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 8
- name: CLIP_PC_INTO_TIN.PC_INP
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 1
- name: CLIP_PC_INTO_TIN.PC_IND_DIM_QRY
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 2
- name: CLIP_PC_INTO_TIN.PC_OTHER_DIM_QRY
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 3
- name: CLIP_PC_INTO_TIN.PC_QRY_MIN_RES
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 4
- name: CLIP_PC_INTO_TIN.PC_QRY_MAX_RES
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 5
- name: CLIP_PC_INTO_TIN.TIN_BASETABLE
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 6
- name: CLIP_PC_INTO_TIN.TIN_BASECOL
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 7
- name: CLIP_PC_INTO_TIN.TIN_BLKTABLE
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 8
- name: CLIP_PC_INTO_TIN.TIN_PTN_PARAMS
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 9
- name: CLIP_PC_INTO_TIN.TIN_BREAK_LINES
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 10
- name: CLIP_PC_INTO_TIN.TIN_STOP_LINES
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 11
- name: CLIP_PC_INTO_TIN.TIN_VOID_RGNS
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 12
- name: CLIP_PC_INTO_TIN.TIN_CLSTPCDATATBL
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 13
- name: CLIP_PC_INTO_TIN.PC_BLKNO
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 14
- name: CREATE_CONTOUR_GEOMETRIES(1).PC
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 1
- name: CREATE_CONTOUR_GEOMETRIES(1).SAMPLING_RESOLUTION
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 2
- name: CREATE_CONTOUR_GEOMETRIES(1).ELEVATIONS
  dataType: VARRAY
  parameterMode: IN
  ordinalPosition: 3
- name: CREATE_CONTOUR_GEOMETRIES(1).REGION
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 4
- name: CREATE_CONTOUR_GEOMETRIES(2).PC_FLAT_TABLE
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: CREATE_CONTOUR_GEOMETRIES(2).SRID
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 2
- name: CREATE_CONTOUR_GEOMETRIES(2).SAMPLING_RESOLUTION
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 3
- name: CREATE_CONTOUR_GEOMETRIES(2).ELEVATIONS
  dataType: VARRAY
  parameterMode: IN
  ordinalPosition: 4
- name: CREATE_CONTOUR_GEOMETRIES(2).REGION
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 5
- name: CREATE_LIBLAS_PYRAMID.PC
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 1
- name: CREATE_LIBLAS_PYRAMID.KEEPLEVEL1INTACT
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 2
- name: CREATE_PC.INP
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 1
- name: CREATE_PC.INPTABLE
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 2
- name: CREATE_PC.CLSTPCDATATBL
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 3
- name: DROP_DEPENDENCIES.BASETABLE
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: DROP_DEPENDENCIES.COL
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 2
- name: GET_BLOCKING_METHOD.INP
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 1
- name: GETNTHHILBERTVALUE.TABLE_NAME
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: GETNTHHILBERTVALUE.N
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 2
- name: GET_PT_IDS.PTS
  dataType: BLOB
  parameterMode: IN
  ordinalPosition: 1
- name: GET_PT_IDS.NUM_PTS
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 2
- name: GET_PT_IDS.PC_TOT_DIM
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 3
- name: GET_PT_IDS.BLK_DOMAIN
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 4
- name: GET_TILE_SQL.GEOMETRY
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 1
- name: GET_TILE_SQL.SQL_INTERIOR
  dataType: VARCHAR2
  parameterMode: OUT
  ordinalPosition: 2
- name: GET_TILE_SQL.SQL_BOUNDARY
  dataType: VARCHAR2
  parameterMode: OUT
  ordinalPosition: 3
- name: GET_TILE_SQL.TOLERANCE
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 4
- name: GET_TILE_SQL.SDO_LEVEL
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 5
- name: GET_TILE_SQL.SDO_NTILES
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 6
- name: HAS_PYRAMID.INP
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 1
- name: HILBERT_XY2D.N
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 1
- name: HILBERT_XY2D.X
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 2
- name: HILBERT_XY2D.Y
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 3
- name: IMPORT_LAS.SOURCE_LAS_FILE
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: IMPORT_LAS.SOURCE_LAS_FILE_ID
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 2
- name: IMPORT_LAS.TARGET_TABLE
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 3
- name: IMPORT_LAS.ADD_COLUMNS
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 4
- name: INIT.BASETABLE
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: INIT.BASECOL
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 2
- name: INIT.BLKTABLE
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 3
- name: INIT.PTN_PARAMS
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 4
- name: INIT.PC_EXTENT
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 5
- name: INIT.PC_TOL
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 6
- name: INIT.PC_TOT_DIMENSIONS
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 7
- name: INIT.PC_DOMAIN
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 8
- name: INIT.PC_VAL_ATTR_TABLES
  dataType: VARRAY
  parameterMode: IN
  ordinalPosition: 9
- name: INIT.PC_OTHER_ATTRS
  dataType: OPAQUE/XMLTYPE
  parameterMode: IN
  ordinalPosition: 10
- name: PRESERVES_LEVEL1.INP
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 1
- name: TIN_TO_PC.TIN
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 1
- name: TIN_TO_PC.BASETABLE
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 2
- name: TIN_TO_PC.BASECOL
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 3
- name: TIN_TO_PC.BLKTABLE
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 4
- name: TO_GEOMETRY.PTS
  dataType: BLOB
  parameterMode: IN
  ordinalPosition: 1
- name: TO_GEOMETRY.NUM_PTS
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 2
- name: TO_GEOMETRY.PC_TOT_DIM
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 3
- name: TO_GEOMETRY.SRID
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 4
- name: TO_GEOMETRY.BLK_DOMAIN
  dataType: OBJECT
  parameterMode: IN
  ordinalPosition: 5
- name: TO_GEOMETRY.GET_IDS
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 6
routineDefinition: |-
  PACKAGE sdo_pc_pkg authid current_user AS -- all tables as "schema.table" for simpler interface.
  FUNCTION INIT(
    basetable varchar2,
    basecol varchar2,
    blktable VARCHAR2,
    ptn_params varchar2,
    pc_extent sdo_geometry default null,
    pc_tol NUMBER default 0.0000000000005,
    pc_tot_dimensions NUMBER default 2,
    pc_domain sdo_orgscl_type default null,
    pc_val_attr_tables SDO_STRING_ARRAY default null,
    pc_other_attrs SYS.XMLTYPE default null
  ) RETURN SDO_PC;
  procedure create_liblas_pyramid(
    pc in sdo_pc,
    keepLevel1Intact in number
  );
  PROCEDURE CREATE_PC(
    inp sdo_pc,
    inptable varchar2,
    clstpcdatatbl varchar2 default null
  );
  PROCEDURE ADD_TO_PC(inp sdo_pc, inptable varchar2);
  FUNCTION HAS_PYRAMID(inp sdo_pc) return number;
  FUNCTION PRESERVES_LEVEL1(inp sdo_pc) return number;
  -- works as read if qry params are null
  FUNCTION CLIP_PC(
    inp sdo_pc,
    ind_dim_qry sdo_geometry,
    other_dim_qry sdo_mbr,
    qry_min_res number,
    qry_max_res number,
    blkno number default null,
    include_custom_dims number default 0
  ) RETURN MDSYS.SDO_PC_BLK_TYPE PIPELINED;
  PROCEDURE DROP_DEPENDENCIES(basetable varchar2, col varchar2);
  FUNCTION TO_GEOMETRY(
    pts BLOB,
    num_pts NUMBER,
    pc_tot_dim NUMBER,
    srid NUMBER default null,
    blk_domain sdo_orgscl_type default null,
    get_ids NUMBER default NULL
  ) RETURN MDSYS.SDO_GEOMETRY DETERMINISTIC PARALLEL_ENABLE;
  FUNCTION GET_PT_IDs(
    pts BLOB,
    num_pts NUMBER,
    pc_tot_dim NUMBER,
    blk_domain sdo_orgscl_type default null
  ) RETURN SDO_NUMBER_ARRAY DETERMINISTIC;
  function tin_to_pc(
    tin sdo_tin,
    basetable varchar2,
    basecol varchar2,
    blktable varchar2
  ) return sdo_pc deterministic;
  /*

  PROCEDURE POPULATE_FROM_CLSTPCDATA(inp sdo_pc, clstpcdatatbl varchar2);



    PROCEDURE WRITE_CLSTPCDATA(inp sdo_pc, clstpcdatatbl varchar2);

  */
  /*

    -- works as read if qry is null

    FUNCTION CLIP_PCAttrs(inp sdo_pc, qry sdo_geometry, blkno number default null)

      RETURN ANYDATASET;

    FUNCTION CLIP_PC_PtIds(inp sdo_pc, qry sdo_geometry, blkno number default null)

      RETURN ANYDATASET;

  */
  function clip_pc_into_tin(
    pc_inp sdo_pc,
    pc_ind_dim_qry sdo_geometry,
    pc_other_dim_qry sdo_mbr,
    pc_qry_min_res number,
    pc_qry_max_res number,
    tin_basetable varchar2,
    tin_basecol varchar2,
    tin_blktable varchar2,
    tin_ptn_params varchar2 default null,
    tin_break_lines sdo_geometry default null,
    tin_stop_lines sdo_geometry default null,
    tin_void_rgns sdo_geometry default null,
    tin_clstpcdatatbl varchar2 default null,
    pc_blkno number default null
  ) return mdsys.sdo_tin;
  function create_contour_geometries(
    pc sdo_pc,
    sampling_resolution number,
    elevations sdo_ordinate_array,
    region sdo_geometry
  ) return sdo_geometry_array;
  function create_contour_geometries(
    pc_flat_table varchar2,
    srid number,
    sampling_resolution number,
    elevations sdo_ordinate_array,
    region sdo_geometry
  ) return sdo_geometry_array;
  /* This procedure takes a 2D Geometry as input and generates

       two SQL strings which can be appended to a user cursor in the

       where clause. */
  PROCEDURE get_tile_sql (
    geometry IN SDO_GEOMETRY,
    sql_interior OUT VARCHAR2,
    sql_boundary OUT VARCHAR2,
    tolerance IN NUMBER DEFAULT 0.0000005,
    sdo_level in NUMBER DEFAULT 4,
    sdo_ntiles in NUMBER DEFAULT 100
  );
  /* This function returns a REFCURSOR which can be queried by the client

       side code to fetch rows from the base table. The columns are the columns

       of the base table: only numberic and VARCHAR columns allowed.

       Query Geometry is used to clip the points from the base table.

       First two colums should be X and Y. SRID is assumed to be the same

       as the one used in Geometry.  */
  FUNCTION clip_pc_flat (
    geometry IN SDO_GEOMETRY,
    table_name IN VARCHAR2,
    tolerance IN NUMBER,
    other_dim_qry IN MDSYS.SDO_MBR DEFAULT NULL,
    mask IN VARCHAR2 DEFAULT 'ANYINTERACT'
  ) RETURN SYS_REFCURSOR;
  /* Same as the above, but return the actual SQL statement instead of the

       cursor. Users can add additional predicates or select list and

       execute it. */
  FUNCTION clip_pc_flat_string (
    geometry IN SDO_GEOMETRY,
    table_name IN VARCHAR2,
    tolerance IN NUMBER,
    other_dim_qry IN MDSYS.SDO_MBR DEFAULT NULL,
    mask IN VARCHAR2 DEFAULT 'ANYINTERACT',
    dop IN INTEGER DEFAULT NULL,
    sdo_level in number DEFAULT 4,
    sdo_ntiles in number DEFAULT 100
  ) RETURN clob;
  procedure import_las(
    source_las_file varchar2,
    source_las_file_id varchar2,
    target_table varchar2,
    add_columns number
  );
  function hilbert_xy2d(n number, x number, y number) return number;
  function get_blocking_method(inp sdo_pc) return varchar2;
  function getNthHilbertValue(
    table_name varchar2,
    n number
  ) return number;
  END sdo_pc_pkg;
