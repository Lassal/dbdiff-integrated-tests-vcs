schema: MDSYS
name: SDO_WFS_LOCK
routineType: PACKAGE
returnParamater:
  name: QUERYTOKENSESSIONMAP.(--return--)
  dataType: VARCHAR2
  parameterMode: OUT
  ordinalPosition: 0
parameters:
- name: DELETETOKENSESSIONMAP.TID
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: LOCKROWSBYID(1).USERNAME
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: LOCKROWSBYID(1).TABLENAME
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 2
- name: LOCKROWSBYID(1).TABLEALIAS
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 3
- name: LOCKROWSBYID(1).EXPIRYTIME
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 4
- name: LOCKROWSBYID(1).ROWSLOCKED
  dataType: TABLE
  parameterMode: OUT
  ordinalPosition: 5
- name: LOCKROWSBYID(1).ROWSNOTLOCKED
  dataType: TABLE
  parameterMode: OUT
  ordinalPosition: 6
- name: LOCKROWSBYID(1).LOCKALL
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 7
- name: LOCKROWSBYID(1).PKEYCOLS
  dataType: VARRAY
  parameterMode: IN
  ordinalPosition: 8
- name: LOCKROWSBYID(1).AUTOCOMMIT
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 9
- name: LOCKROWSBYID(1).ROWSTOBELOCKED
  dataType: TABLE
  parameterMode: IN
  ordinalPosition: 10
- name: LOCKROWSBYID(1).ORDERCLAUSE
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 11
- name: LOCKROWSBYID(1).INDEXCLAUSE
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 12
- name: LOCKROWSBYID(1).MAXCNT
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 13
- name: LOCKROWSBYID(2).PTOKENID
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: LOCKROWSBYID(2).USERNAME
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 2
- name: LOCKROWSBYID(2).TABLENAME
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 3
- name: LOCKROWSBYID(2).TABLEALIAS
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 4
- name: LOCKROWSBYID(2).EXPIRYTIME
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 5
- name: LOCKROWSBYID(2).ROWSLOCKED
  dataType: TABLE
  parameterMode: OUT
  ordinalPosition: 6
- name: LOCKROWSBYID(2).ROWSNOTLOCKED
  dataType: TABLE
  parameterMode: OUT
  ordinalPosition: 7
- name: LOCKROWSBYID(2).LOCKALL
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 8
- name: LOCKROWSBYID(2).PKEYCOLS
  dataType: VARRAY
  parameterMode: IN
  ordinalPosition: 9
- name: LOCKROWSBYID(2).AUTOCOMMIT
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 10
- name: LOCKROWSBYID(2).ROWSTOBELOCKED
  dataType: TABLE
  parameterMode: IN
  ordinalPosition: 11
- name: LOCKROWSBYID(2).ORDERCLAUSE
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 12
- name: LOCKROWSBYID(2).INDEXCLAUSE
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 13
- name: LOCKROWSBYID(2).MAXCNT
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 14
- name: QUERYTOKENSESSIONMAP.TID
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: REGISTERFEATURETABLE.USERNAME
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: REGISTERFEATURETABLE.TABLENAME
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 2
- name: RESETTOKENEXPIRY.TID
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: TRANSFERTOKENBYID.PTOKENID
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: UNLOCKROWSBYID.PTOKENID
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: UNLOCKROWSBYID.USERNAME
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 2
- name: UNLOCKROWSBYID.TABLENAME
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 3
- name: UNLOCKROWSBYID.TABLEALIAS
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 4
- name: UNLOCKROWSBYID.PKEYCOLS
  dataType: VARRAY
  parameterMode: IN
  ordinalPosition: 5
- name: UNLOCKROWSBYID.AUTOCOMMIT
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 6
- name: UNLOCKROWSBYID.ROWSTOBEUNLOCKED
  dataType: TABLE
  parameterMode: IN
  ordinalPosition: 7
- name: UNREGISTERFEATURETABLE.USERNAME
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: UNREGISTERFEATURETABLE.TABLENAME
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 2
- name: UPDATETOKENSESSIONMAP.TID
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: UPDATETOKENSESSIONMAP.SID
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 2
routineDefinition: |-
  PACKAGE SDO_WFS_LOCK authid current_user AS cleanup number: = 1;
  ROWCNT_THRESHOLD number: = 100;
  procedure registerFeatureTable(userName IN varchar2, tableName IN varchar2);
  procedure unRegisterFeatureTable(userName IN varchar2, tableName IN varchar2);
  function lockRowsById(
    userName IN VARCHAR2,
    tableName IN varchar2,
    tableAlias varchar2,
    expiryTime IN number,
    rowsLocked OUT mdsys.RowPointerList,
    rowsNotLocked OUT mdsys.RowPointerList,
    lockAll varchar2,
    pkeyCols mdsys.StringList,
    autoCommit varchar2,
    rowsToBeLocked IN mdsys.RowPointerList,
    orderClause varchar2,
    indexClause varchar2,
    maxcnt number
  ) return number;
  procedure lockRowsById(
    pTokenId IN varchar2,
    userName IN VARCHAR2,
    tableName IN varchar2,
    tableAlias varchar2,
    expiryTime IN number,
    rowsLocked OUT mdsys.RowPointerList,
    rowsNotLocked OUT mdsys.RowPointerList,
    lockAll varchar2,
    pkeyCols mdsys.StringList,
    autoCommit varchar2,
    rowsToBeLocked IN mdsys.RowPointerList,
    orderClause varchar2,
    indexClause varchar2,
    maxcnt number
  );
  procedure unlockRowsById(
    pTokenId IN varchar2,
    userName IN VARCHAR2,
    tableName IN varchar2,
    tableAlias IN varchar2,
    pkeyCols IN mdsys.StringList,
    autoCommit IN varchar2,
    rowsToBeUnLocked IN mdsys.RowPointerList
  );
  procedure transferTokenById (pTokenId IN varchar2);
  procedure updateTokenSessionMap(tId varchar2, sId varchar2);
  procedure deleteTokenSessionMap(tId varchar2);
  function queryTokenSessionMap (tId varchar2) return varchar2;
  procedure resetTokenExpiry(tId varchar2);
  function generateTokenId return varchar2;
  procedure enableDBTxns;
  end;
