schema: CLC
name: PKG_GERA_MASSA
routineType: PACKAGE
returnParamater: null
parameters:
- name: GERACAO_MASSA.P_NUMERO_GERACAO_MASSA
  ordinalPosition: 1
  dataType: VARCHAR2
  parameterMode: IN
- name: INPUT_DADOS.P_CREDENCIADORA_EMISSOR
  ordinalPosition: 1
  dataType: VARCHAR2
  parameterMode: IN
- name: INPUT_DADOS.P_NUMERO_GERACAO_MASSA
  ordinalPosition: 2
  dataType: VARCHAR2
  parameterMode: INOUT
- name: INPUT_DADOS.P_NUMERO_LINHA_ARQUIVO
  ordinalPosition: 3
  dataType: VARCHAR2
  parameterMode: IN
- name: INPUT_DADOS.P_TIPO_PLATAFORMA
  ordinalPosition: 4
  dataType: VARCHAR2
  parameterMode: IN
- name: INPUT_DADOS.P_TIPO_ARQUIVO
  ordinalPosition: 5
  dataType: VARCHAR2
  parameterMode: IN
- name: INPUT_DADOS.P_CODIGO_BANDEIRA_B0
  ordinalPosition: 6
  dataType: VARCHAR2
  parameterMode: IN
- name: INPUT_DADOS.P_COD_ADQUIRENTE_B0
  ordinalPosition: 7
  dataType: VARCHAR2
  parameterMode: IN
- name: INPUT_DADOS.P_NUMERO_REMESSA_B0
  ordinalPosition: 8
  dataType: VARCHAR2
  parameterMode: IN
- name: INPUT_DADOS.P_NUMERO_REMESSA_BZ
  ordinalPosition: 9
  dataType: VARCHAR2
  parameterMode: IN
- name: INPUT_DADOS.P_COD_ADQUIRENTE_TE05
  ordinalPosition: 10
  dataType: VARCHAR2
  parameterMode: IN
- name: INPUT_DADOS.P_BANCO_EMISSOR
  ordinalPosition: 11
  dataType: VARCHAR2
  parameterMode: IN
- name: INPUT_DADOS.P_NUMERO_CARTAO
  ordinalPosition: 12
  dataType: VARCHAR2
  parameterMode: IN
- name: INPUT_DADOS.P_VLR_VENDA
  ordinalPosition: 13
  dataType: VARCHAR2
  parameterMode: IN
- name: INPUT_DADOS.P_COD_BANDEIRA_TE05
  ordinalPosition: 14
  dataType: VARCHAR2
  parameterMode: IN
- name: INPUT_DADOS.P_MCC_PV
  ordinalPosition: 15
  dataType: VARCHAR2
  parameterMode: IN
- name: INPUT_DADOS.P_CNPJ_CPF
  ordinalPosition: 16
  dataType: VARCHAR2
  parameterMode: IN
- name: INPUT_DADOS.P_PONTO_DE_VENDA
  ordinalPosition: 17
  dataType: VARCHAR2
  parameterMode: IN
- name: INPUT_DADOS.P_TIPO_PESSOA
  ordinalPosition: 18
  dataType: VARCHAR2
  parameterMode: IN
- name: INPUT_DADOS.P_VLR_TRANSACAO
  ordinalPosition: 19
  dataType: VARCHAR2
  parameterMode: IN
- name: INPUT_DADOS.P_QTD_PARCELAS_TRANSACAO
  ordinalPosition: 20
  dataType: VARCHAR2
  parameterMode: IN
- name: INPUT_DADOS.P_CODIGO_PRODUTO
  ordinalPosition: 21
  dataType: VARCHAR2
  parameterMode: IN
- name: INPUT_DADOS.P_QUANTIDADE_DIAS_LIQ_TRS
  ordinalPosition: 22
  dataType: VARCHAR2
  parameterMode: IN
- name: INPUT_DADOS.P_TIPO_OPERACAO
  ordinalPosition: 23
  dataType: VARCHAR2
  parameterMode: IN
- name: INPUT_DADOS_VALIDACAO.P_NUMERO_GERACAO_MASSA
  ordinalPosition: 1
  dataType: VARCHAR2
  parameterMode: INOUT
- name: INPUT_DADOS_VALIDACAO.P_NUMERO_LINHA_ARQUIVO
  ordinalPosition: 2
  dataType: VARCHAR2
  parameterMode: IN
- name: INPUT_DADOS_VALIDACAO.P_DSC_LINHA_ARQUIVO
  ordinalPosition: 3
  dataType: VARCHAR2
  parameterMode: IN
- name: LAYOUT_BZ.P_NUMERO_GERACAO_MASSA
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: LAYOUT_BZ.L_RETORNO
  ordinalPosition: 2
  dataType: VARCHAR2
  parameterMode: OUT
- name: LAYOUT_B0.P_NUMERO_GERACAO_MASSA
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: LAYOUT_B0.L_RETORNO
  ordinalPosition: 2
  dataType: VARCHAR2
  parameterMode: OUT
- name: LAYOUT_05_SUBTIPO_00.P_NUMERO_GERACAO_MASSA
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: LAYOUT_05_SUBTIPO_00.P_NRO_LINHA_ARQUIVO
  ordinalPosition: 2
  dataType: NUMBER
  parameterMode: IN
- name: LAYOUT_05_SUBTIPO_00.L_RETORNO
  ordinalPosition: 3
  dataType: VARCHAR2
  parameterMode: OUT
- name: LAYOUT_05_SUBTIPO_01.P_NUMERO_GERACAO_MASSA
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: LAYOUT_05_SUBTIPO_01.P_NRO_LINHA_ARQUIVO
  ordinalPosition: 2
  dataType: NUMBER
  parameterMode: IN
- name: LAYOUT_05_SUBTIPO_01.L_RETORNO
  ordinalPosition: 3
  dataType: VARCHAR2
  parameterMode: OUT
- name: LAYOUT_05_SUBTIPO_02.P_NUMERO_GERACAO_MASSA
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: LAYOUT_05_SUBTIPO_02.P_NRO_LINHA_ARQUIVO
  ordinalPosition: 2
  dataType: NUMBER
  parameterMode: IN
- name: LAYOUT_05_SUBTIPO_02.L_RETORNO
  ordinalPosition: 3
  dataType: VARCHAR2
  parameterMode: OUT
- name: LAYOUT_05_SUBTIPO_05.P_NUMERO_GERACAO_MASSA
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: LAYOUT_05_SUBTIPO_05.P_NRO_LINHA_ARQUIVO
  ordinalPosition: 2
  dataType: NUMBER
  parameterMode: IN
- name: LAYOUT_05_SUBTIPO_05.L_RETORNO
  ordinalPosition: 3
  dataType: VARCHAR2
  parameterMode: OUT
- name: LAYOUT_05_SUBTIPO_07.P_NUMERO_GERACAO_MASSA
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: LAYOUT_05_SUBTIPO_07.P_NRO_LINHA_ARQUIVO
  ordinalPosition: 2
  dataType: NUMBER
  parameterMode: IN
- name: LAYOUT_05_SUBTIPO_07.L_RETORNO
  ordinalPosition: 3
  dataType: VARCHAR2
  parameterMode: OUT
routineDefinition: |-
  PACKAGE PKG_GERA_MASSA AS l_cod_bandeira varchar2(50);
  l_cod_adquir varchar2(50);
  /* tb chamado de codigo credenciadora*/
  l_cod_servico varchar2(10);
  l_cod_tipo_plataforma varchar2(50);
  l_cod_processadora varchar2(50);
  l_tipo_arquivo varchar2(50);
  l_valor_total_venda number: = 0;
  l_qtde_total_transacoes number: = 0;
  /*

         Pendencias:

         TE0500 - gerar nro transacao

         TE0501 - validar se é CPF ou CNPJ e dar um exemplo

         */
  PROCEDURE INPUT_DADOS (
    p_credenciadora_emissor varchar2,
    p_numero_geracao_massa in out varchar2,
    p_numero_linha_arquivo varchar2,
    p_tipo_plataforma varchar2,
    p_tipo_arquivo varchar2,
    p_codigo_bandeira_b0 varchar2,
    p_cod_adquirente_b0 varchar2,
    p_numero_remessa_b0 varchar2,
    p_numero_remessa_bz varchar2,
    p_cod_adquirente_te05 varchar2,
    --6.8 b11
    p_banco_emissor varchar2,
    --6.8 b12
    p_numero_cartao varchar2,
    --6.8 b13
    p_vlr_venda varchar2,
    --6.8 b09
    p_cod_bandeira_te05 varchar2,
    p_mcc_pv varchar2,
    --6.8 b14
    p_cnpj_cpf varchar2,
    -- 6.8 b01
    p_ponto_de_venda varchar2,
    --6.8 b02
    p_tipo_pessoa varchar2,
    --6.8 b03
    p_vlr_transacao varchar2,
    --6.8 b07
    p_qtd_parcelas_transacao varchar2,
    --6.8 b08
    p_codigo_produto varchar2,
    --6.8 b06
    p_quantidade_dias_liq_trs varchar2,
    --6.8 b04
    p_tipo_operacao varchar2 --6.8 b20
  );
  PROCEDURE GERACAO_MASSA (p_numero_geracao_massa varchar2);
  PROCEDURE LAYOUT_B0 (
    p_numero_geracao_massa number,
    l_retorno out varchar2
  );
  PROCEDURE LAYOUT_BZ (
    p_numero_geracao_massa number,
    l_retorno out varchar2
  );
  PROCEDURE LAYOUT_05_SUBTIPO_00 (
    p_numero_geracao_massa number,
    p_nro_linha_arquivo number,
    l_retorno out varchar2
  );
  PROCEDURE LAYOUT_05_SUBTIPO_01 (
    p_numero_geracao_massa number,
    p_nro_linha_arquivo number,
    l_retorno out varchar2
  );
  PROCEDURE LAYOUT_05_SUBTIPO_02 (
    p_numero_geracao_massa number,
    p_nro_linha_arquivo number,
    l_retorno out varchar2
  );
  PROCEDURE LAYOUT_05_SUBTIPO_05 (
    p_numero_geracao_massa number,
    p_nro_linha_arquivo number,
    l_retorno out varchar2
  );
  PROCEDURE LAYOUT_05_SUBTIPO_07 (
    p_numero_geracao_massa number,
    p_nro_linha_arquivo number,
    l_retorno out varchar2
  );
  PROCEDURE INPUT_DADOS_VALIDACAO (
    p_numero_geracao_massa in out varchar2,
    p_numero_linha_arquivo varchar2,
    p_dsc_linha_arquivo varchar2
  );
  END;
