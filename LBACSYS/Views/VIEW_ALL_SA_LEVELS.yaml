schema: LBACSYS
name: ALL_SA_LEVELS
updatedAllowed: true
insertAllowed: true
columns:
- name: LEVEL_NUM
  dataType: NUMBER
  numericPrecision: 4
  numericScale: 0
  nullable: true
  ordinalPosition: 2
  dataTypeLength: 4,0
- name: LONG_NAME
  dataType: VARCHAR2
  textMaxLength: 80
  nullable: true
  ordinalPosition: 4
  dataTypeLength: 80
- name: POLICY_NAME
  dataType: VARCHAR2
  textMaxLength: 30
  nullable: true
  ordinalPosition: 1
  dataTypeLength: 30
- name: SHORT_NAME
  dataType: VARCHAR2
  textMaxLength: 30
  nullable: true
  ordinalPosition: 3
  dataTypeLength: 30
referencedTables:
- schema: LBACSYS
  name: OLS$LEVELS
- schema: LBACSYS
  name: OLS$USER_LEVELS
- schema: LBACSYS
  name: SA$ADMIN
- schema: LBACSYS
  name: SA$POL
viewDefinition: |-
  SELECT
    p.pol_name as policy_name,
    l.level# AS level_num,
    l.code AS short_name,
    l.name AS long_name
  FROM
    LBACSYS.sa$pol p,
    LBACSYS.ols$levels l
  WHERE
    p.pol# = l.pol#
    AND p.pol# in (
      select
        pol#
      from
        LBACSYS.sa$admin
      where
        usr_name = user
    )
  UNION
  SELECT
    p.pol_name as policy_name,
    l.level# AS level_num,
    l.code AS short_name,
    l.name AS long_name
  FROM
    LBACSYS.sa$pol p,
    LBACSYS.ols$levels l,
    LBACSYS.ols$user_levels ul
  WHERE
    p.pol# = l.pol#
    and l.pol# = ul.pol#
    and l.level# <= ul.max_level
    and ul.usr_name = sa_session.sa_user_name(lbac_cache.policy_name(ul.pol#))
