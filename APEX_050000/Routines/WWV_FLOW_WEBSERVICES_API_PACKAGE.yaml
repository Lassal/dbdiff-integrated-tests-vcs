schema: APEX_050000
name: WWV_FLOW_WEBSERVICES_API
routineType: PACKAGE
returnParamater:
  name: PARSE_XML_CLOB.(--return--)
  ordinalPosition: 0
  dataType: CLOB
  parameterMode: OUT
parameters:
- name: BLOB2CLOBBASE64.P_BLOB
  ordinalPosition: 1
  dataType: BLOB
  parameterMode: IN
- name: CLOBBASE642BLOB.P_CLOB
  ordinalPosition: 1
  dataType: CLOB
  parameterMode: IN
- name: MAKE_REQUEST(1).P_URL
  ordinalPosition: 1
  dataType: VARCHAR2
  parameterMode: IN
- name: MAKE_REQUEST(1).P_ACTION
  ordinalPosition: 2
  dataType: VARCHAR2
  parameterMode: IN
- name: MAKE_REQUEST(1).P_VERSION
  ordinalPosition: 3
  dataType: VARCHAR2
  parameterMode: IN
- name: MAKE_REQUEST(1).P_COLLECTION_NAME
  ordinalPosition: 4
  dataType: VARCHAR2
  parameterMode: IN
- name: MAKE_REQUEST(1).P_ENVELOPE
  ordinalPosition: 5
  dataType: CLOB
  parameterMode: IN
- name: MAKE_REQUEST(1).P_USERNAME
  ordinalPosition: 6
  dataType: VARCHAR2
  parameterMode: IN
- name: MAKE_REQUEST(1).P_PASSWORD
  ordinalPosition: 7
  dataType: VARCHAR2
  parameterMode: IN
- name: MAKE_REQUEST(1).P_SCHEME
  ordinalPosition: 8
  dataType: VARCHAR2
  parameterMode: IN
- name: MAKE_REQUEST(1).P_PROXY_OVERRIDE
  ordinalPosition: 9
  dataType: VARCHAR2
  parameterMode: IN
- name: MAKE_REQUEST(1).P_TRANSFER_TIMEOUT
  ordinalPosition: 10
  dataType: NUMBER
  parameterMode: IN
- name: MAKE_REQUEST(1).P_WALLET_PATH
  ordinalPosition: 11
  dataType: VARCHAR2
  parameterMode: IN
- name: MAKE_REQUEST(1).P_WALLET_PWD
  ordinalPosition: 12
  dataType: VARCHAR2
  parameterMode: IN
- name: MAKE_REQUEST(2).P_URL
  ordinalPosition: 1
  dataType: VARCHAR2
  parameterMode: IN
- name: MAKE_REQUEST(2).P_ACTION
  ordinalPosition: 2
  dataType: VARCHAR2
  parameterMode: IN
- name: MAKE_REQUEST(2).P_VERSION
  ordinalPosition: 3
  dataType: VARCHAR2
  parameterMode: IN
- name: MAKE_REQUEST(2).P_ENVELOPE
  ordinalPosition: 4
  dataType: CLOB
  parameterMode: IN
- name: MAKE_REQUEST(2).P_USERNAME
  ordinalPosition: 5
  dataType: VARCHAR2
  parameterMode: IN
- name: MAKE_REQUEST(2).P_PASSWORD
  ordinalPosition: 6
  dataType: VARCHAR2
  parameterMode: IN
- name: MAKE_REQUEST(2).P_SCHEME
  ordinalPosition: 7
  dataType: VARCHAR2
  parameterMode: IN
- name: MAKE_REQUEST(2).P_PROXY_OVERRIDE
  ordinalPosition: 8
  dataType: VARCHAR2
  parameterMode: IN
- name: MAKE_REQUEST(2).P_TRANSFER_TIMEOUT
  ordinalPosition: 9
  dataType: NUMBER
  parameterMode: IN
- name: MAKE_REQUEST(2).P_WALLET_PATH
  ordinalPosition: 10
  dataType: VARCHAR2
  parameterMode: IN
- name: MAKE_REQUEST(2).P_WALLET_PWD
  ordinalPosition: 11
  dataType: VARCHAR2
  parameterMode: IN
- name: MAKE_REST_REQUEST.P_URL
  ordinalPosition: 1
  dataType: VARCHAR2
  parameterMode: IN
- name: MAKE_REST_REQUEST.P_HTTP_METHOD
  ordinalPosition: 2
  dataType: VARCHAR2
  parameterMode: IN
- name: MAKE_REST_REQUEST.P_USERNAME
  ordinalPosition: 3
  dataType: VARCHAR2
  parameterMode: IN
- name: MAKE_REST_REQUEST.P_PASSWORD
  ordinalPosition: 4
  dataType: VARCHAR2
  parameterMode: IN
- name: MAKE_REST_REQUEST.P_SCHEME
  ordinalPosition: 5
  dataType: VARCHAR2
  parameterMode: IN
- name: MAKE_REST_REQUEST.P_PROXY_OVERRIDE
  ordinalPosition: 6
  dataType: VARCHAR2
  parameterMode: IN
- name: MAKE_REST_REQUEST.P_TRANSFER_TIMEOUT
  ordinalPosition: 7
  dataType: NUMBER
  parameterMode: IN
- name: MAKE_REST_REQUEST.P_BODY
  ordinalPosition: 8
  dataType: CLOB
  parameterMode: IN
- name: MAKE_REST_REQUEST.P_BODY_BLOB
  ordinalPosition: 9
  dataType: BLOB
  parameterMode: IN
- name: MAKE_REST_REQUEST.P_PARM_NAME
  ordinalPosition: 10
  dataType: PL/SQL TABLE
  parameterMode: IN
- name: MAKE_REST_REQUEST.P_PARM_VALUE
  ordinalPosition: 11
  dataType: PL/SQL TABLE
  parameterMode: IN
- name: MAKE_REST_REQUEST.P_WALLET_PATH
  ordinalPosition: 12
  dataType: VARCHAR2
  parameterMode: IN
- name: MAKE_REST_REQUEST.P_WALLET_PWD
  ordinalPosition: 13
  dataType: VARCHAR2
  parameterMode: IN
- name: MAKE_REST_REQUEST_B.P_URL
  ordinalPosition: 1
  dataType: VARCHAR2
  parameterMode: IN
- name: MAKE_REST_REQUEST_B.P_HTTP_METHOD
  ordinalPosition: 2
  dataType: VARCHAR2
  parameterMode: IN
- name: MAKE_REST_REQUEST_B.P_USERNAME
  ordinalPosition: 3
  dataType: VARCHAR2
  parameterMode: IN
- name: MAKE_REST_REQUEST_B.P_PASSWORD
  ordinalPosition: 4
  dataType: VARCHAR2
  parameterMode: IN
- name: MAKE_REST_REQUEST_B.P_SCHEME
  ordinalPosition: 5
  dataType: VARCHAR2
  parameterMode: IN
- name: MAKE_REST_REQUEST_B.P_PROXY_OVERRIDE
  ordinalPosition: 6
  dataType: VARCHAR2
  parameterMode: IN
- name: MAKE_REST_REQUEST_B.P_TRANSFER_TIMEOUT
  ordinalPosition: 7
  dataType: NUMBER
  parameterMode: IN
- name: MAKE_REST_REQUEST_B.P_BODY
  ordinalPosition: 8
  dataType: CLOB
  parameterMode: IN
- name: MAKE_REST_REQUEST_B.P_BODY_BLOB
  ordinalPosition: 9
  dataType: BLOB
  parameterMode: IN
- name: MAKE_REST_REQUEST_B.P_PARM_NAME
  ordinalPosition: 10
  dataType: PL/SQL TABLE
  parameterMode: IN
- name: MAKE_REST_REQUEST_B.P_PARM_VALUE
  ordinalPosition: 11
  dataType: PL/SQL TABLE
  parameterMode: IN
- name: MAKE_REST_REQUEST_B.P_WALLET_PATH
  ordinalPosition: 12
  dataType: VARCHAR2
  parameterMode: IN
- name: MAKE_REST_REQUEST_B.P_WALLET_PWD
  ordinalPosition: 13
  dataType: VARCHAR2
  parameterMode: IN
- name: PARSE_RESPONSE.P_COLLECTION_NAME
  ordinalPosition: 1
  dataType: VARCHAR2
  parameterMode: IN
- name: PARSE_RESPONSE.P_XPATH
  ordinalPosition: 2
  dataType: VARCHAR2
  parameterMode: IN
- name: PARSE_RESPONSE.P_NS
  ordinalPosition: 3
  dataType: VARCHAR2
  parameterMode: IN
- name: PARSE_RESPONSE_CLOB.P_COLLECTION_NAME
  ordinalPosition: 1
  dataType: VARCHAR2
  parameterMode: IN
- name: PARSE_RESPONSE_CLOB.P_XPATH
  ordinalPosition: 2
  dataType: VARCHAR2
  parameterMode: IN
- name: PARSE_RESPONSE_CLOB.P_NS
  ordinalPosition: 3
  dataType: VARCHAR2
  parameterMode: IN
- name: PARSE_XML.P_XML
  ordinalPosition: 1
  dataType: OPAQUE/XMLTYPE
  parameterMode: IN
- name: PARSE_XML.P_XPATH
  ordinalPosition: 2
  dataType: VARCHAR2
  parameterMode: IN
- name: PARSE_XML.P_NS
  ordinalPosition: 3
  dataType: VARCHAR2
  parameterMode: IN
- name: PARSE_XML_CLOB.P_XML
  ordinalPosition: 1
  dataType: OPAQUE/XMLTYPE
  parameterMode: IN
- name: PARSE_XML_CLOB.P_XPATH
  ordinalPosition: 2
  dataType: VARCHAR2
  parameterMode: IN
- name: PARSE_XML_CLOB.P_NS
  ordinalPosition: 3
  dataType: VARCHAR2
  parameterMode: IN
routineDefinition: |-
  package wwv_flow_webservices_api as empty_vc_arr wwv_flow_global.vc_arr2;
  g_request_cookies sys.utl_http.cookie_table;
  g_response_cookies sys.utl_http.cookie_table;
  type header is record (name varchar2(256), value varchar2(1024));
  type header_table is table of header index by binary_integer;
  g_headers header_table;
  g_request_headers header_table;
  g_status_code pls_integer;
  function blob2clobbase64 (
    --
    -- This function converts a blob to base64 character encoded representation and
    -- returns it as a clob.
    --
    -- Arguments:
    --   p_blob                 The blob to convert
    --
    --
    p_blob in blob
  ) return clob;
  function clobbase642blob (
    --
    -- This function converts base64 encoded binary data and returns it as a blob.
    --
    -- Arguments:
    --   p_clob                 The base64 encoded data
    --
    --
    p_clob in clob
  ) return blob;
  procedure make_request (
    --
    -- This procedure invokes a Web service with the supplied SOAP envelope and stores
    -- the response in a collection.
    --
    -- Arguments:
    --   p_url                  The url endpoint of the Web service
    --   p_action               The SOAP Action corresponding to the operation invoked
    --   p_version              The SOAP version, 1.1 or 1.2
    --   p_collection_name      The name of the collection to store the response
    --   p_envelope             The SOAP envelope to post to the service
    --   p_username             The username if basic authentication is required for this service
    --   p_password             The password if basic authentication is required for this service
    --   p_scheme               The authentication scheme, Basic (default) or AWS
    --   p_proxy_override       The proxy to use for the request
    --   p_transfer_timeout     The amount of time in seconds to wait for a response
    --   p_wallet_path          The filesystem path to a wallet if request is https
    --                          ex., file:/usr/home/oracle/WALLETS
    --   p_wallet_pwd           The password to access the wallet
    --
    p_url in varchar2,
    p_action in varchar2 default null,
    p_version in varchar2 default '1.1',
    p_collection_name in varchar2 default null,
    p_envelope in clob,
    p_username in varchar2 default null,
    p_password in varchar2 default null,
    p_scheme in varchar2 default 'Basic',
    p_proxy_override in varchar2 default null,
    p_transfer_timeout in number default 180,
    p_wallet_path in varchar2 default null,
    p_wallet_pwd in varchar2 default null
  );
  function make_request (
    --
    -- This function invokes a Web service with the supplied SOAP envelope and returns
    -- the response as an sys.xmltype.
    --
    -- Arguments:
    --   p_url                  The url endpoint of the Web service
    --   p_action               The SOAP Action corresponding to the operation invoked
    --   p_version              The SOAP version, 1.1 or 1.2
    --   p_envelope             The SOAP envelope to post to the service
    --   p_username             The username if basic authentication is required for this service
    --   p_password             The password if basic authentication is required for this service
    --   p_scheme               The authentication scheme, Basic (default) or AWS
    --   p_proxy_override       The proxy to use for the request
    --   p_transfer_timeout     The amount of time in seconds to wait for a response
    --   p_wallet_path          The filesystem path to a wallet if request is https
    --                          ex., file:/usr/home/oracle/WALLETS
    --   p_wallet_pwd           The password to access the wallet
    --
    p_url in varchar2,
    p_action in varchar2 default null,
    p_version in varchar2 default '1.1',
    p_envelope in clob,
    p_username in varchar2 default null,
    p_password in varchar2 default null,
    p_scheme in varchar2 default 'Basic',
    p_proxy_override in varchar2 default null,
    p_transfer_timeout in number default 180,
    p_wallet_path in varchar2 default null,
    p_wallet_pwd in varchar2 default null
  ) return sys.xmltype;
  function make_rest_request(
    --
    -- This function invokes a RESTful Web service with the supplied name value pairs, body clob, or body blob
    -- the response as an clob.
    --
    -- Arguments:
    --   p_url                  The url endpoint of the Web service
    --   p_http_method          The HTTP Method to use, PUT, POST, GET, HEAD or DELETE
    --   p_username             The username if basic authentication is required for this service
    --   p_password             The password if basic authentication is required for this service
    --   p_scheme               The authentication scheme, Basic (default) or AWS
    --   p_proxy_override       The proxy to use for the request
    --   p_body                 The HTTP payload to be sent as clob
    --   p_body_blob            The HTTP payload to be sent as binary blob (ex., posting a file)
    --   p_parm_name            The name of the parameters to be used in name/value pairs
    --   p_parm_value           The value of the paramters to be used in name/value pairs
    --   p_wallet_path          The filesystem path to a wallet if request is https
    --                          ex., file:/usr/home/oracle/WALLETS
    --   p_wallet_pwd           The password to access the wallet
    --
    p_url in varchar2,
    p_http_method in varchar2,
    p_username in varchar2 default null,
    p_password in varchar2 default null,
    p_scheme in varchar2 default 'Basic',
    p_proxy_override in varchar2 default null,
    p_transfer_timeout in number default 180,
    p_body in clob default empty_clob(),
    p_body_blob in blob default empty_blob(),
    p_parm_name in wwv_flow_global.vc_arr2 default empty_vc_arr,
    p_parm_value in wwv_flow_global.vc_arr2 default empty_vc_arr,
    p_wallet_path in varchar2 default null,
    p_wallet_pwd in varchar2 default null
  ) return clob;
  function make_rest_request_b(
    --
    -- This function invokes a RESTful Web service with the supplied name value pairs, body clob, or body blob
    -- the response as a blob.
    --
    -- Arguments:
    --   p_url                  The url endpoint of the Web service
    --   p_http_method          The HTTP Method to use, PUT, POST, GET, HEAD or DELETE
    --   p_username             The username if basic authentication is required for this service
    --   p_password             The password if basic authentication is required for this service
    --   p_scheme               The authentication scheme, Basic (default) or AWS
    --   p_proxy_override       The proxy to use for the request
    --   p_body                 The HTTP payload to be sent as clob
    --   p_body_blob            The HTTP payload to be sent as binary blob (ex., posting a file)
    --   p_parm_name            The name of the parameters to be used in name/value pairs
    --   p_parm_value           The value of the paramters to be used in name/value pairs
    --   p_wallet_path          The filesystem path to a wallet if request is https
    --                          ex., file:/usr/home/oracle/WALLETS
    --   p_wallet_pwd           The password to access the wallet
    --
    p_url in varchar2,
    p_http_method in varchar2,
    p_username in varchar2 default null,
    p_password in varchar2 default null,
    p_scheme in varchar2 default 'Basic',
    p_proxy_override in varchar2 default null,
    p_transfer_timeout in number default 180,
    p_body in clob default empty_clob(),
    p_body_blob in blob default empty_blob(),
    p_parm_name in wwv_flow_global.vc_arr2 default empty_vc_arr,
    p_parm_value in wwv_flow_global.vc_arr2 default empty_vc_arr,
    p_wallet_path in varchar2 default null,
    p_wallet_pwd in varchar2 default null
  ) return blob;
  function parse_xml (
    --
    -- This function returns a particular node of an xml document and returns it as
    -- a varchar.
    --
    -- Arguments:
    --   p_xml                  The xmldocument as an sys.xmltype to parse
    --   p_xpath                The xPath to the desired node
    --   p_ns                   The namespace to the desired node
    p_xml in sys.xmltype,
    p_xpath in varchar2,
    p_ns in varchar2 default null
  ) return varchar2;
  function parse_xml_clob (
    --
    -- This function returns a particular node of an xml document and returns it as
    -- a clob.
    --
    -- Arguments:
    --   p_xml                  The xmldocument as an sys.xmltype to parse
    --   p_xpath                The xPath to the desired node
    --   p_ns                   The namespace to the desired node
    p_xml in sys.xmltype,
    p_xpath in varchar2,
    p_ns in varchar2 default null
  ) return clob;
  function parse_response (
    --
    -- This function converts the clob001 column of passed collection to an sys.xmltype
    -- and then returns a particular node of that document.
    --
    -- Arguments:
    --   p_collection_name      The name of the collection that has the xml document
    --   p_xpath                The xPath to the desired node
    --   p_ns                   The namespace to the desired node
    p_collection_name in varchar2,
    p_xpath in varchar2,
    p_ns in varchar2 default null
  ) return varchar2;
  function parse_response_clob (
    --
    -- This function converts the clob001 column of passed collection to an sys.xmltype
    -- and then returns a particular node of that document.
    --
    -- Arguments:
    --   p_collection_name      The name of the collection that has the xml document
    --   p_xpath                The xPath to the desired node
    --   p_ns                   The namespace to the desired node
    p_collection_name in varchar2,
    p_xpath in varchar2,
    p_ns in varchar2 default null
  ) return clob;
  end wwv_flow_webservices_api;
