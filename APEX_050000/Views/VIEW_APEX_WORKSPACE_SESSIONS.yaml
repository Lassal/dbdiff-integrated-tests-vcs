schema: APEX_050000
name: APEX_WORKSPACE_SESSIONS
updatedAllowed: true
insertAllowed: true
columns:
- name: APEX_SESSION_ID
  dataType: NUMBER
  nullable: false
  ordinalPosition: 4
  dataTypeLength:
- name: REMOTE_ADDR
  dataType: VARCHAR2
  textMaxLength: 255
  nullable: true
  ordinalPosition: 6
  dataTypeLength: 255
- name: SESSION_CREATED
  dataType: DATE
  nullable: false
  ordinalPosition: 7
  dataTypeLength:
- name: SESSION_IDLE_TIMEOUT_ON
  dataType: DATE
  nullable: false
  ordinalPosition: 8
  dataTypeLength:
- name: SESSION_LANG
  dataType: VARCHAR2
  textMaxLength: 5
  nullable: true
  ordinalPosition: 12
  dataTypeLength: 5
- name: SESSION_LIFE_TIMEOUT_ON
  dataType: DATE
  nullable: false
  ordinalPosition: 9
  dataTypeLength:
- name: SESSION_MAX_IDLE_SEC
  dataType: NUMBER
  numericPrecision: 5
  numericScale: 0
  nullable: false
  ordinalPosition: 10
  dataTypeLength: 5,0
- name: SESSION_TERRITORY
  dataType: VARCHAR2
  textMaxLength: 255
  nullable: true
  ordinalPosition: 13
  dataTypeLength: 255
- name: SESSION_TIME_ZONE
  dataType: VARCHAR2
  textMaxLength: 255
  nullable: true
  ordinalPosition: 11
  dataTypeLength: 255
- name: USER_NAME
  dataType: VARCHAR2
  textMaxLength: 255
  nullable: true
  ordinalPosition: 5
  dataTypeLength: 255
- name: WORKSPACE_DISPLAY_NAME
  dataType: VARCHAR2
  textMaxLength: 4000
  nullable: true
  ordinalPosition: 3
  dataTypeLength: 4000
- name: WORKSPACE_ID
  dataType: NUMBER
  nullable: false
  ordinalPosition: 1
  dataTypeLength:
- name: WORKSPACE_NAME
  dataType: VARCHAR2
  textMaxLength: 255
  nullable: false
  ordinalPosition: 2
  dataTypeLength: 255
referencedTables:
- schema: APEX_050000
  name: WWV_FLOW_COMPANIES
- schema: APEX_050000
  name: WWV_FLOW_COMPANY_SCHEMAS
- schema: APEX_050000
  name: WWV_FLOW_SESSIONS$
- schema: SYS
  name: DUAL
viewDefinition: |-
  select
    w.workspace_id workspace_id,
    w.workspace_name workspace_name,
    w.workspace_display_name workspace_display_name,
    s.id apex_session_id,
    s.username user_name,
    s.remote_addr remote_addr,
    s.created_on session_created,
    s.idle_timeout_on session_idle_timeout_on,
    s.life_timeout_on session_life_timeout_on,
    s.max_idle_sec session_max_idle_sec,
    s.session_time_zone session_time_zone,
    s.session_lang session_lang,
    s.session_territory session_territory
  from
    wwv_flow_sessions$ s,
    (
      select
        w.PROVISIONING_COMPANY_ID workspace_id,
        w.short_name workspace_name,
        w.display_name workspace_display_name,
        w.FIRST_SCHEMA_PROVISIONED first_schema_provisioned
      from
        wwv_flow_companies w,
        wwv_flow_company_schemas s,
        (
          select
            nvl(v('FLOW_SECURITY_GROUP_ID'), 0) sgid,
            (
              select
                sys_context('USERENV', 'CURRENT_USER')
              from
                sys.dual
            ) cu
          from
            sys.dual
        ) d
      where
        (
          s.schema = cu
          or (
            select
              wwv_flow_security.has_apex_administrator_role_yn(cu)
            from
              sys.dual
          ) = 'Y'
          or d.sgid = w.PROVISIONING_COMPANY_ID
        )
        and s.security_group_id = w.PROVISIONING_COMPANY_ID
        and w.PROVISIONING_COMPANY_ID != 0
      group by
        w.PROVISIONING_COMPANY_ID,
        w.short_name,
        w.display_name,
        w.FIRST_SCHEMA_PROVISIONED
    ) w
  where
    s.SECURITY_GROUP_ID = w.workspace_id
