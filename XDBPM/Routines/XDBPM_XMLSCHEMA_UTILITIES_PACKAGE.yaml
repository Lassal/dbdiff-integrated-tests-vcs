schema: XDBPM
name: XDBPM_XMLSCHEMA_UTILITIES
routineType: PACKAGE
returnParamater:
  name: PRINTNESTEDTABLES.(--return--)
  dataType: OPAQUE/XMLTYPE
  parameterMode: OUT
  ordinalPosition: 0
parameters:
- name: CLEANUPSCHEMA.P_OWNER
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: COMPLETEBULKLOAD.P_TABLE_NAME
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: COMPLETEBULKLOAD.P_OWNER
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 2
- name: DELETEORPHANTYPES.P_REGISTRATION_DATE
  dataType: TIMESTAMP
  numericPrecision: 6
  parameterMode: IN
  ordinalPosition: 1
- name: DISABLETABLENONROOTELEMENTS.P_XML_SCHEMA
  dataType: OPAQUE/XMLTYPE
  parameterMode: INOUT
  ordinalPosition: 1
- name: DISABLETABLEREFERENCEDELEMENTS.P_XML_SCHEMA
  dataType: OPAQUE/XMLTYPE
  parameterMode: INOUT
  ordinalPosition: 1
- name: DISABLETABLESUBGROUPMEMBERS.P_XML_SCHEMA
  dataType: OPAQUE/XMLTYPE
  parameterMode: INOUT
  ordinalPosition: 1
- name: GENERATECREATETABLESTATEMENT.XML_TABLE_NAME
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: GENERATECREATETABLESTATEMENT.NEW_TABLE_NAME
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 2
- name: GENERATECYCLEREPORT.P_RESOURCE_PATH
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: GENERATESCHEMAFROMTABLE.P_TABLE_NAME
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: GENERATESCHEMAFROMTABLE.P_OWNER
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 2
- name: GETDEFAULTTABLENAME.P_RESOURCE_PATH
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: INDEXXMLREFERENCES.INDEX_NAME
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: PREPAREBULKLOAD.P_TABLE_NAME
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: PREPAREBULKLOAD.P_OWNER
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 2
- name: PRINTNESTEDTABLES.XML_TABLE
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: RENAMECOLLECTIONTABLE.XMLTABLE
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: RENAMECOLLECTIONTABLE.XPATH
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 2
- name: RENAMECOLLECTIONTABLE.COLLECTION_TABLE_PREFIX
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 3
routineDefinition: |-
  package XDBPM_XMLSCHEMA_UTILITIES authid CURRENT_USER as procedure scopeXMLReferences;
  procedure indexXMLReferences(INDEX_NAME VARCHAR2);
  procedure prepareBulkLoad(
    P_TABLE_NAME VARCHAR2,
    P_OWNER VARCHAR2 DEFAULT USER
  );
  procedure completeBulkLoad(
    P_TABLE_NAME VARCHAR2,
    P_OWNER VARCHAR2 DEFAULT USER
  );
  procedure renameCollectionTable (
    XMLTABLE VARCHAR2,
    XPATH VARCHAR2,
    COLLECTION_TABLE_PREFIX VARCHAR2
  );
  function printNestedTables(XML_TABLE VARCHAR2) return XMLType;
  function getDefaultTableName(P_RESOURCE_PATH VARCHAR2) return VARCHAR2;
  function generateSchemaFromTable(
    P_TABLE_NAME VARCHAR2,
    P_OWNER VARCHAR2 default USER
  ) return XMLTYPE;
  function generateCreateTableStatement(XML_TABLE_NAME VARCHAR2, NEW_TABLE_NAME VARCHAR2) return CLOB;
  procedure cleanupSchema(P_OWNER VARCHAR2);
  procedure generateCycleReport(
    P_RESOURCE_PATH VARCHAR2 DEFAULT '/public/cycleReport.log'
  );
  procedure deleteOrphanTypes(P_REGISTRATION_DATE TIMESTAMP);
  procedure disableTableReferencedElements(P_XML_SCHEMA IN OUT XMLTYPE);
  procedure disableTableSubgroupMembers(P_XML_SCHEMA IN OUT XMLTYPE);
  procedure disableTableNonRootElements(P_XML_SCHEMA IN OUT XMLTYPE);
  end XDBPM_XMLSCHEMA_UTILITIES;
