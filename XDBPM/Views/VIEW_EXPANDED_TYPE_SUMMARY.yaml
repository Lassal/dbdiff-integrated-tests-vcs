schema: XDBPM
name: EXPANDED_TYPE_SUMMARY
updatedAllowed: true
insertAllowed: true
columns:
- name: ATTR_NAME
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: true
  ordinalPosition: 3
  dataTypeLength: 128
- name: ATTR_TYPE_NAME
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: true
  ordinalPosition: 4
  dataTypeLength: 128
- name: ATTR_TYPE_OWNER
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: true
  ordinalPosition: 5
  dataTypeLength: 128
- name: COLUMN_COUNT
  dataType: NUMBER
  nullable: true
  ordinalPosition: 6
  dataTypeLength:
- name: OWNER
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: true
  ordinalPosition: 2
  dataTypeLength: 128
- name: TYPE_NAME
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: true
  ordinalPosition: 1
  dataTypeLength: 128
referencedTables:
- schema: XDBPM
  name: BASE_TYPE_SUMMARY
- schema: XDBPM
  name: TYPE_SUMMARY
- schema: XDBPM
  name: XDBPM_ALL_TYPES
viewDefinition: |-
  select
    bts.TYPE_NAME,
    bts.OWNER,
    bts.ATTR_NAME,
    bts.ATTR_TYPE_NAME,
    bts.ATTR_TYPE_OWNER,
    bts.COLUMN_COUNT
  from
    BASE_TYPE_SUMMARY bts
  union all
  select
    at .SUPERTYPE_NAME TYPE_NAME,
    at .SUPERTYPE_OWNER OWNER,
    'SYS$EXTENSION' ATTR_TYPE_NAME,
    at .TYPE_NAME ATTR_TYPE_NAME,
    at .OWNER ATTR_TYPE_OWNER,
    ts.COLUMN_COUNT - (
      select
        sum(COLUMN_COUNT)
      from
        BASE_TYPE_SUMMARY bts
      where
        bts.TYPE_NAME = at .SUPERTYPE_NAME
        and bts.OWNER = at .SUPERTYPE_OWNER
    )
  from
    XDBPM.XDBPM_ALL_TYPES at,
    TYPE_SUMMARY ts
  where
    at .TYPE_NAME = ts.TYPE_NAME
    and at .OWNER = ts.OWNER
