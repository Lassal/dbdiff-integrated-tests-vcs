schema: XDBPM
name: EXPANDED_TYPE_SUMMARY
updatedAllowed: true
insertAllowed: true
columns: []
referencedTables: []
viewDefinition: |-
  select
    bts.TYPE_NAME,
    bts.OWNER,
    bts.ATTR_NAME,
    bts.ATTR_TYPE_NAME,
    bts.ATTR_TYPE_OWNER,
    bts.COLUMN_COUNT
  from
    BASE_TYPE_SUMMARY bts
  union all
  select
    at .SUPERTYPE_NAME TYPE_NAME,
    at .SUPERTYPE_OWNER OWNER,
    'SYS$EXTENSION' ATTR_TYPE_NAME,
    at .TYPE_NAME ATTR_TYPE_NAME,
    at .OWNER ATTR_TYPE_OWNER,
    ts.COLUMN_COUNT - (
      select
        sum(COLUMN_COUNT)
      from
        BASE_TYPE_SUMMARY bts
      where
        bts.TYPE_NAME = at .SUPERTYPE_NAME
        and bts.OWNER = at .SUPERTYPE_OWNER
    )
  from
    XDBPM.XDBPM_ALL_TYPES at,
    TYPE_SUMMARY ts
  where
    at .TYPE_NAME = ts.TYPE_NAME
    and at .OWNER = ts.OWNER
