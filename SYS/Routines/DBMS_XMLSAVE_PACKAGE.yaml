schema: SYS
name: DBMS_XMLSAVE
routineType: PACKAGE
returnParamater:
  name: UPDATEXML(2).(--return--)
  ordinalPosition: 0
  dataType: NUMBER
  parameterMode: OUT
parameters:
- name: CLEARKEYCOLUMNLIST.CTXHDL
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: CLEARUPDATECOLUMNLIST.CTXHDL
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: CLOSECONTEXT.CTXHDL
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: DELETEXML(1).CTXHDL
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: DELETEXML(1).XDOC
  ordinalPosition: 2
  dataType: VARCHAR2
  parameterMode: IN
- name: DELETEXML(2).CTXHDL
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: DELETEXML(2).XDOC
  ordinalPosition: 2
  dataType: CLOB
  parameterMode: IN
- name: GETEXCEPTIONCONTENT.CTXHDL
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: GETEXCEPTIONCONTENT.ERRNO
  ordinalPosition: 2
  dataType: NUMBER
  parameterMode: OUT
- name: GETEXCEPTIONCONTENT.ERRMSG
  ordinalPosition: 3
  dataType: VARCHAR2
  parameterMode: OUT
- name: INSERTXML(1).CTXHDL
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: INSERTXML(1).XDOC
  ordinalPosition: 2
  dataType: VARCHAR2
  parameterMode: IN
- name: INSERTXML(2).CTXHDL
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: INSERTXML(2).XDOC
  ordinalPosition: 2
  dataType: CLOB
  parameterMode: IN
- name: NEWCONTEXT.TARGETTABLE
  ordinalPosition: 1
  dataType: VARCHAR2
  parameterMode: IN
- name: P_PROPAGATEORIGINALEXCEPTION.CTXHDL
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: P_PROPAGATEORIGINALEXCEPTION.FLAG
  ordinalPosition: 2
  dataType: NUMBER
  parameterMode: IN
- name: PROPAGATEORIGINALEXCEPTION.CTXHDL
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: PROPAGATEORIGINALEXCEPTION.FLAG
  ordinalPosition: 2
  dataType: PL/SQL BOOLEAN
  parameterMode: IN
- name: P_SETPRESERVEWHITESPACE.CTXHDL
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: P_SETPRESERVEWHITESPACE.FLAG
  ordinalPosition: 2
  dataType: NUMBER
  parameterMode: IN
- name: P_SETSQLTOXMLNAMEESC.CTXHDL
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: P_SETSQLTOXMLNAMEESC.FLAG
  ordinalPosition: 2
  dataType: NUMBER
  parameterMode: IN
- name: P_SETXSLT(1).CTXHDL
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: P_SETXSLT(1).URI
  ordinalPosition: 2
  dataType: VARCHAR2
  parameterMode: IN
- name: P_SETXSLT(1).REF
  ordinalPosition: 3
  dataType: VARCHAR2
  parameterMode: IN
- name: P_SETXSLT(2).CTXHDL
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: P_SETXSLT(2).STYLESHEET
  ordinalPosition: 2
  dataType: CLOB
  parameterMode: IN
- name: P_SETXSLT(2).REF
  ordinalPosition: 3
  dataType: VARCHAR2
  parameterMode: IN
- name: P_USEDBDATES.CTXHDL
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: P_USEDBDATES.FLAG
  ordinalPosition: 2
  dataType: NUMBER
  parameterMode: IN
- name: REMOVEXSLTPARAM.CTXHDL
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: REMOVEXSLTPARAM.NAME
  ordinalPosition: 2
  dataType: VARCHAR2
  parameterMode: IN
- name: SETBATCHSIZE.CTXHDL
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: SETBATCHSIZE.BATCHSIZE
  ordinalPosition: 2
  dataType: NUMBER
  parameterMode: IN
- name: SETCOMMITBATCH.CTXHDL
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: SETCOMMITBATCH.BATCHSIZE
  ordinalPosition: 2
  dataType: NUMBER
  parameterMode: IN
- name: SETDATEFORMAT.CTXHDL
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: SETDATEFORMAT.MASK
  ordinalPosition: 2
  dataType: VARCHAR2
  parameterMode: IN
- name: SETIGNORECASE.CTXHDL
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: SETIGNORECASE.FLAG
  ordinalPosition: 2
  dataType: NUMBER
  parameterMode: IN
- name: SETKEYCOLUMN.CTXHDL
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: SETKEYCOLUMN.COLNAME
  ordinalPosition: 2
  dataType: VARCHAR2
  parameterMode: IN
- name: SETPRESERVEWHITESPACE.CTXHDL
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: SETPRESERVEWHITESPACE.FLAG
  ordinalPosition: 2
  dataType: PL/SQL BOOLEAN
  parameterMode: IN
- name: SETROWTAG.CTXHDL
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: SETROWTAG.TAG
  ordinalPosition: 2
  dataType: VARCHAR2
  parameterMode: IN
- name: SETSQLTOXMLNAMEESCAPING.CTXHDL
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: SETSQLTOXMLNAMEESCAPING.FLAG
  ordinalPosition: 2
  dataType: PL/SQL BOOLEAN
  parameterMode: IN
- name: SETUPDATECOLUMN.CTXHDL
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: SETUPDATECOLUMN.COLNAME
  ordinalPosition: 2
  dataType: VARCHAR2
  parameterMode: IN
- name: SETXSLT(1).CTXHDL
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: SETXSLT(1).URI
  ordinalPosition: 2
  dataType: VARCHAR2
  parameterMode: IN
- name: SETXSLT(1).REF
  ordinalPosition: 3
  dataType: VARCHAR2
  parameterMode: IN
- name: SETXSLT(2).CTXHDL
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: SETXSLT(2).STYLESHEET
  ordinalPosition: 2
  dataType: CLOB
  parameterMode: IN
- name: SETXSLT(2).REF
  ordinalPosition: 3
  dataType: VARCHAR2
  parameterMode: IN
- name: SETXSLTPARAM.CTXHDL
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: SETXSLTPARAM.NAME
  ordinalPosition: 2
  dataType: VARCHAR2
  parameterMode: IN
- name: SETXSLTPARAM.VALUE
  ordinalPosition: 3
  dataType: VARCHAR2
  parameterMode: IN
- name: UPDATEXML(1).CTXHDL
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: UPDATEXML(1).XDOC
  ordinalPosition: 2
  dataType: VARCHAR2
  parameterMode: IN
- name: UPDATEXML(2).CTXHDL
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: UPDATEXML(2).XDOC
  ordinalPosition: 2
  dataType: CLOB
  parameterMode: IN
- name: USEDBDATES.CTXHDL
  ordinalPosition: 1
  dataType: NUMBER
  parameterMode: IN
- name: USEDBDATES.FLAG
  ordinalPosition: 2
  dataType: PL/SQL BOOLEAN
  parameterMode: IN
routineDefinition: |-
  PACKAGE DBMS_XMLSAVE AUTHID CURRENT_USER AS SUBTYPE ctxType IS NUMBER;
  /* context type */
  DEFAULT_ROWTAG CONSTANT VARCHAR2(3): = 'ROW';
  /* rowtag */
  DEFAULT_DATE_FORMAT CONSTANT VARCHAR2(21): = 'YYYY-MM-DD HH24:MI:SS';
  MATCH_CASE CONSTANT NUMBER: = 0;
  /* match case */
  IGNORE_CASE CONSTANT NUMBER: = 1;
  /* ignore case */
  -------------------- constructor/destructor functions ---------------------
  FUNCTION newContext(targetTable IN VARCHAR2) RETURN ctxType;
  PROCEDURE closeContext(ctxHdl IN ctxType);
  -------------------- parameters to the save (XMLtoDB) engine ----------------
  PROCEDURE setXSLT(
    ctxHdl IN ctxType,
    uri IN VARCHAR2,
    ref IN VARCHAR2: = null
  );
  PROCEDURE setXSLT(
    ctxHdl IN ctxType,
    stylesheet IN CLOB,
    ref IN VARCHAR2: = null
  );
  PROCEDURE setXSLTParam(
    ctxHdl IN ctxType,
    name IN VARCHAR2,
    value IN VARCHAR2
  );
  PROCEDURE removeXSLTParam(ctxHdl IN ctxType, name IN VARCHAR2);
  PROCEDURE setRowTag(ctxHdl IN ctxType, tag IN VARCHAR2);
  PROCEDURE setSQLToXMLNameEscaping(ctxHdl IN ctxType, flag IN BOOLEAN: = true);
  PROCEDURE setPreserveWhitespace(ctxHdl IN ctxType, flag IN BOOLEAN: = true);
  PROCEDURE setIgnoreCase(ctxHdl IN ctxType, flag IN NUMBER);
  PROCEDURE setDateFormat(ctxHdl IN ctxType, mask IN VARCHAR2);
  PROCEDURE setBatchSize(ctxHdl IN ctxType, batchSize IN NUMBER);
  PROCEDURE setCommitBatch(ctxHdl IN ctxType, batchSize IN NUMBER);
  -- set the columns to update. Relevant for insert and update routines..
  PROCEDURE setUpdateColumn(ctxHdl IN ctxType, colName IN VARCHAR2);
  PROCEDURE clearUpdateColumnList(ctxHdl IN ctxType);
  -- set the key column name to be used for updates and deletes.
  PROCEDURE setKeyColumn(ctxHdl IN ctxType, colName IN VARCHAR2);
  PROCEDURE clearKeyColumnList(ctxHdl IN ctxType);
  ------------------- save ----------------------------------------------------
  -- insertXML
  FUNCTION insertXML(ctxHdl IN ctxType, xDoc IN VARCHAR2) RETURN NUMBER;
  FUNCTION insertXML(ctxHdl IN ctxType, xDoc IN CLOB) RETURN NUMBER;
  -- updateXML
  FUNCTION updateXML(ctxHdl IN ctxType, xDoc IN VARCHAR2) RETURN NUMBER;
  FUNCTION updateXML(ctxHdl IN ctxType, xDoc IN CLOB) RETURN NUMBER;
  -- deleteXML
  FUNCTION deleteXML(ctxHdl IN ctxType, xDoc IN VARCHAR2) RETURN NUMBER;
  FUNCTION deleteXML(ctxHdl IN ctxType, xDoc IN CLOB) RETURN NUMBER;
  ------------------- misc ----------------------------------------------------
  PROCEDURE propagateOriginalException(ctxHdl IN ctxType, flag IN BOOLEAN);
  PROCEDURE getExceptionContent(
    ctxHdl IN ctxType,
    errNo OUT NUMBER,
    errMsg OUT VARCHAR2
  );
  PROCEDURE useDBDates(ctxHdl IN ctxType, flag IN BOOLEAN: = true);
  -------private method declarations------------------------------------------
  -- we must do this as a bug workaround; otherwise we get ora-600 [kgmexchi11]
  PROCEDURE p_useDBDates(ctxHdl IN ctxType, flag IN NUMBER);
  PROCEDURE p_setXSLT(
    ctxHdl IN ctxType,
    uri IN VARCHAR2,
    ref IN VARCHAR2
  );
  PROCEDURE p_setXSLT(
    ctxHdl IN ctxType,
    stylesheet CLOB,
    ref IN VARCHAR2
  );
  PROCEDURE p_propagateOriginalException(ctxHdl IN ctxType, flag IN NUMBER);
  PROCEDURE p_setSQLToXMLNameEsc(ctxHdl IN ctxType, flag IN NUMBER);
  PROCEDURE p_setPreserveWhitespace(ctxHdl IN ctxType, flag IN NUMBER);
  END dbms_xmlsave;
