schema: SYS
name: XS_ADMIN_UTIL
routineType: PACKAGE
returnParamater:
  name: XSNAME_TO_ID.(--return--)
  dataType: NUMBER
  parameterMode: OUT
  ordinalPosition: 0
parameters:
- name: CHECK_LENGTH.STR
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: CHECK_LENGTH.MIN_LENGTH
  dataType: BINARY_INTEGER
  parameterMode: IN
  ordinalPosition: 2
- name: CHECK_LENGTH.MAX_LENGTH
  dataType: BINARY_INTEGER
  parameterMode: IN
  ordinalPosition: 3
- name: CHECK_SEEDED.OBJ_ID
  dataType: NUMBER
  parameterMode: IN
  ordinalPosition: 1
- name: DROP_SCHEMA_OBJECTS.SCHEMA_NAME
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: GET_OBJECT_ID.OBJ_NAME
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: GET_OBJECT_ID.OBJ_TYPE
  dataType: BINARY_INTEGER
  parameterMode: IN
  ordinalPosition: 2
- name: GET_OBJECT_ID.WORKSPACE
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 3
- name: GET_OBJECT_ID.STATUS_FLAG
  dataType: BINARY_INTEGER
  parameterMode: IN
  ordinalPosition: 4
- name: GRANT_SYSTEM_PRIVILEGE.PRIV_NAME
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: GRANT_SYSTEM_PRIVILEGE.USER_NAME
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 2
- name: GRANT_SYSTEM_PRIVILEGE.USER_TYPE
  dataType: BINARY_INTEGER
  parameterMode: IN
  ordinalPosition: 3
- name: RAISE_ERROR.ERROR_NUMBER
  dataType: BINARY_INTEGER
  parameterMode: IN
  ordinalPosition: 1
- name: RAISE_ERROR.ERROR_STR1
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 2
- name: RAISE_ERROR.ERROR_STR2
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 3
- name: RAISE_ERROR.KEEP_STACK
  dataType: PL/SQL BOOLEAN
  parameterMode: IN
  ordinalPosition: 4
- name: REMOVE_DBUSER_ACES.USER_NAME
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: REVOKE_SYSTEM_PRIVILEGE.PRIV_NAME
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: REVOKE_SYSTEM_PRIVILEGE.USER_NAME
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 2
- name: REVOKE_SYSTEM_PRIVILEGE.USER_TYPE
  dataType: BINARY_INTEGER
  parameterMode: IN
  ordinalPosition: 3
- name: SET_DEFAULT_WORKSPACE.WORKSPACE
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: VALIDATE_DB_OBJECT_NAME.INPUT_NAME
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: VALIDATE_DB_OBJECT_NAME.OBJECT_NAME
  dataType: VARCHAR2
  parameterMode: OUT
  ordinalPosition: 2
- name: VALIDATE_DB_OBJECT_NAME.ERROR_MSG
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 3
- name: XSNAME_TO_ID.OBJ_NAME
  dataType: VARCHAR2
  parameterMode: IN
  ordinalPosition: 1
- name: XSNAME_TO_ID.OBJ_TYPE
  dataType: BINARY_INTEGER
  parameterMode: IN
  ordinalPosition: 2
routineDefinition: |-
  PACKAGE XS_ADMIN_UTIL AUTHID CURRENT_USER AS COMMON_WORKSPACE CONSTANT VARCHAR2(6): = 'XS';
  STRING_MAXLEN CONSTANT PLS_INTEGER: = 4000;
  NON_EMPTY_STRING_MINLEN CONSTANT PLS_INTEGER: = 1;
  STRING_MINLEN CONSTANT PLS_INTEGER: = 0;
  XSNAME_MINLEN CONSTANT PLS_INTEGER: = 1;
  XSNAME_MAXLEN CONSTANT PLS_INTEGER: = 130;
  PARAMNAME_MINLEN CONSTANT PLS_INTEGER: = 1;
  PARAMNAME_MAXLEN CONSTANT PLS_INTEGER: = 128;
  XSQNAME_MINLEN CONSTANT PLS_INTEGER: = 1;
  XSQNAME_MAXLEN CONSTANT PLS_INTEGER: = 261;
  EXTERNAL_NAME_MINLEN CONSTANT PLS_INTEGER: = 1;
  EXTERNAL_NAME_MAXLEN CONSTANT PLS_INTEGER: = 130;
  WORKSPACE_MINLEN CONSTANT PLS_INTEGER: = 1;
  WORKSPACE_MAXLEN CONSTANT PLS_INTEGER: = 128;
  DBNAME_MINLEN CONSTANT PLS_INTEGER: = 1;
  DBNAME_MAXLEN CONSTANT PLS_INTEGER: = 32;
  OBJTYPE_PRINCIPAL CONSTANT PLS_INTEGER: = 1;
  OBJTYPE_SECURITY_CLASS CONSTANT PLS_INTEGER: = 2;
  OBJTYPE_ACL CONSTANT PLS_INTEGER: = 3;
  OBJTYPE_PRIVILEGE CONSTANT PLS_INTEGER: = 4;
  OBJTYPE_DATA_SECURITY CONSTANT PLS_INTEGER: = 5;
  OBJTYPE_ROLESET CONSTANT PLS_INTEGER: = 6;
  OBJTYPE_NSTEMPL CONSTANT PLS_INTEGER: = 7;
  OBJTYPE_SYSOP CONSTANT PLS_INTEGER: = 101;
  OBJTYPE_ADMOP CONSTANT PLS_INTEGER: = 102;
  -- These constants define the three delete options.
  DEFAULT_OPTION CONSTANT PLS_INTEGER: = 1;
  CASCADE_OPTION CONSTANT PLS_INTEGER: = 2;
  ALLOW_INCONSISTENCIES_OPTION CONSTANT PLS_INTEGER: = 3;
  -- These two constants specify if an object exists in the base table or not.
  STATUS_EXISTS CONSTANT PLS_INTEGER: = 1;
  STATUS_NOT_EXISTS CONSTANT PLS_INTEGER: = 0;
  -- The following constants define the principal's type.
  PTYPE_XS CONSTANT PLS_INTEGER: = 1;
  PTYPE_DB CONSTANT PLS_INTEGER: = 2;
  PTYPE_DN CONSTANT PLS_INTEGER: = 3;
  PTYPE_EXTERNAL CONSTANT PLS_INTEGER: = 4;
  -- Error Code
  --existing error code
  ERR_INVALID_LENGTH CONSTANT NUMBER: = 46076;
  ERR_SET_PRIN_GUID CONSTANT NUMBER: = 46083;
  ERR_DROP_SEEDED_OBJ CONSTANT NUMBER: = 46084;
  ERR_NO_PROXY_ROLES CONSTANT NUMBER: = 46085;
  ERR_DEFV_FREVNT_COEXIST CONSTANT NUMBER: = 46096;
  ERR_NO_ROLESET_ROLE CONSTANT NUMBER: = 46097;
  ERR_NO_GRANTEDROLE_PRIN CONSTANT NUMBER: = 46097;
  ERR_NO_SC_PARENTSC CONSTANT NUMBER: = 46097;
  ERR_DUP_PARENT CONSTANT NUMBER: = 46098;
  ERR_DUP_LEAF CONSTANT NUMBER: = 46098;
  ERR_DUP_PRIMARY_KEY CONSTANT NUMBER: = 46098;
  ERR_DUP_ATTR_PRIV_PAIR CONSTANT NUMBER: = 46098;
  ERR_DUP_PROXY CONSTANT NUMBER: = 46098;
  ERR_DUP_ACL_PARAM CONSTANT NUMBER: = 46098;
  ERR_DUP_ROLESET_ROLE CONSTANT NUMBER: = 46098;
  ERR_DUP_POLICY_PARAM CONSTANT NUMBER: = 46098;
  ERR_DUP_NS_ATTR CONSTANT NUMBER: = 46098;
  ERR_AGGR_CYCLE CONSTANT NUMBER: = 46101;
  ERR_SECCLS_CYCLE CONSTANT NUMBER: = 46103;
  ERR_INVALID_VALUE CONSTANT NUMBER: = 46152;
  ERR_NO_HANDLER_FUNC CONSTANT NUMBER: = 46202;
  ERR_INVALID_ENTITY_LENGTH CONSTANT NUMBER: = 46211;
  ERR_DUP_NAME CONSTANT NUMBER: = 46212;
  ERR_OBJ_REFERRED CONSTANT NUMBER: = 46214;
  ERR_INVALID_OBJECT CONSTANT NUMBER: = 46215;
  ERR_NO_OBJ_FOUND CONSTANT NUMBER: = 46215;
  ERR_ACL_REFERREDBY_NSTEMPLATE CONSTANT NUMBER: = 46116;
  ERR_INSUFFICIENT_PRIV CONSTANT NUMBER: = 1031;
  -- new Admin API error code
  ERR_NO_STATIC_RULE CONSTANT NUMBER: = 46025;
  ERR_INTERNAL CONSTANT NUMBER: = 46230;
  ERR_GRANT_ROLE CONSTANT NUMBER: = 46231;
  ERR_ROLE_GRANT_CYCLE CONSTANT NUMBER: = 46232;
  ERR_PARENT_ACL_CYCLE CONSTANT NUMBER: = 46233;
  ERR_NO_POLICY_PARAMETER CONSTANT NUMBER: = 46235;
  ERR_INVALID_POLICY_TYPE CONSTANT NUMBER: = 46236;
  ERR_MIDTIER_CACHE CONSTANT NUMBER: = 46237;
  ERR_NO_DB_USER_ROLE CONSTANT NUMBER: = 46238;
  ERR_PROXY_SCHEMA_EXIST CONSTANT NUMBER: = 46240;
  ERR_PROXY_SCHEMA_NOT_EXIST CONSTANT NUMBER: = 46241;
  ERR_GRANT_ROLE_XSGUEST CONSTANT NUMBER: = 46242;
  ERR_ROLE_NOT_GRANTED CONSTANT NUMBER: = 46055;
  ERR_FEATURE_NOT_SUPPORTED CONSTANT NUMBER: = 46099;
  -- get the default workspace
  FUNCTION GET_DEFAULT_WORKSPACE return VARCHAR2;
  -- Length check
  PROCEDURE CHECK_LENGTH (
    str IN VARCHAR2,
    min_length IN PLS_INTEGER,
    max_length IN PLS_INTEGER
  );
  -- Raise an application error
  PROCEDURE RAISE_ERROR (
    error_number IN PLS_INTEGER,
    error_str1 IN VARCHAR2 DEFAULT NULL,
    error_str2 IN VARCHAR2 DEFAULT NULL,
    keep_stack IN BOOLEAN DEFAULT TRUE
  );
  -- set default workspace
  PROCEDURE SET_DEFAULT_WORKSPACE (workspace IN VARCHAR2);
  -- Get the object ID, Internal use. called by ADMIN APIs.
  FUNCTION GET_OBJECT_ID(
    obj_name IN VARCHAR2,
    obj_type IN PLS_INTEGER,
    workspace IN VARCHAR2,
    status_flag IN PLS_INTEGER: = NULL
  ) RETURN NUMBER;
  -- Utility Function: XS name to ID
  FUNCTION XSNAME_TO_ID(
    obj_name IN VARCHAR2,
    obj_type IN PLS_INTEGER
  ) RETURN NUMBER;
  -- Validate DB object name. Internal use.
  PROCEDURE VALIDATE_DB_OBJECT_NAME (
    input_name IN VARCHAR2,
    object_name OUT VARCHAR2,
    error_msg IN VARCHAR2 DEFAULT NULL
  );
  -- Drop schema objects under a schema
  PROCEDURE drop_schema_objects(schema_name IN VARCHAR2);
  -- Grant System privilege to a user/role
  PROCEDURE grant_system_privilege(
    priv_name IN VARCHAR2,
    user_name IN VARCHAR2,
    user_type IN PLS_INTEGER: = XS_ADMIN_UTIL.PTYPE_DB
  );
  -- Revoke System privilege from a user/role
  PROCEDURE revoke_system_privilege(
    priv_name IN VARCHAR2,
    user_name IN VARCHAR2,
    user_type IN PLS_INTEGER: = XS_ADMIN_UTIL.PTYPE_DB
  );
  -- Revoke System privilege from a user/role
  PROCEDURE remove_dbuser_aces(user_name IN VARCHAR2);
  -- Check whethe the object is seeded or not, internal use
  PROCEDURE CHECK_SEEDED(obj_id IN NUMBER);
  END XS_ADMIN_UTIL;
