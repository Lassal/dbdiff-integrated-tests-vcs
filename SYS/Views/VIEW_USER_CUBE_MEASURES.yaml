schema: SYS
name: USER_CUBE_MEASURES
updatedAllowed: true
insertAllowed: true
columns:
- name: CUBE_NAME
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: false
  ordinalPosition: 1
  dataTypeLength: 128
- name: DATA_LENGTH
  dataType: NUMBER
  nullable: false
  ordinalPosition: 9
  dataTypeLength:
- name: DATA_PRECISION
  dataType: NUMBER
  nullable: true
  ordinalPosition: 10
  dataTypeLength:
- name: DATA_SCALE
  dataType: NUMBER
  nullable: true
  ordinalPosition: 11
  dataTypeLength:
- name: DATA_TYPE
  dataType: VARCHAR2
  textMaxLength: 106
  nullable: true
  ordinalPosition: 8
  dataTypeLength: 106
- name: DESCRIPTION
  dataType: NVARCHAR2
  textMaxLength: 300
  nullable: true
  ordinalPosition: 7
  dataTypeLength: 300
- name: EXPRESSION
  dataType: CLOB
  nullable: true
  ordinalPosition: 6
  dataTypeLength:
- name: LOOP_DENSE_OVERRIDE
  dataType: VARCHAR2
  textMaxLength: 200
  nullable: true
  ordinalPosition: 13
  dataTypeLength: 200
- name: LOOP_TYPE
  dataType: VARCHAR2
  textMaxLength: 200
  nullable: true
  ordinalPosition: 14
  dataTypeLength: 200
- name: LOOP_VAR_OVERRIDE
  dataType: VARCHAR2
  textMaxLength: 200
  nullable: true
  ordinalPosition: 12
  dataTypeLength: 200
- name: MEASURE_ID
  dataType: NUMBER
  nullable: false
  ordinalPosition: 3
  dataTypeLength:
- name: MEASURE_NAME
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: false
  ordinalPosition: 2
  dataTypeLength: 128
- name: MEASURE_TYPE
  dataType: VARCHAR2
  textMaxLength: 7
  nullable: true
  ordinalPosition: 5
  dataTypeLength: 7
- name: OVERRIDE_SOLVE_SPEC
  dataType: CLOB
  nullable: true
  ordinalPosition: 4
  dataTypeLength:
referencedTables:
- schema: SYS
  name: NLS_SESSION_PARAMETERS
- schema: SYS
  name: OBJ$
- schema: SYS
  name: OLAP_DESCRIPTIONS$
- schema: SYS
  name: OLAP_IMPL_OPTIONS$
- schema: SYS
  name: OLAP_MEASURES$
- schema: SYS
  name: OLAP_SYNTAX$
viewDefinition: |-
  SELECT
    o.name CUBE_NAME,
    m.measure_name MEASURE_NAME,
    m.measure_id MEASURE_ID,
    ss.syntax_clob OVERRIDE_SOLVE_SPEC,
    DECODE(m.measure_type, 1, 'BASE', 2, 'DERIVED') MEASURE_TYPE,
    DECODE(m.measure_type, 2, s.syntax_clob) EXPRESSION,
    d.description_value DESCRIPTION,
    DECODE(
      m.type#,
      1,
      decode(m.charsetform, 2, 'NVARCHAR2', 'VARCHAR2'),
      2,
      decode(
        m.scale,
        null,
        decode(m.precision#, null, 'NUMBER', 'FLOAT'),
        'NUMBER'
      ),
      8,
      'LONG',
      9,
      decode(m.charsetform, 2, 'NCHAR VARYING', 'VARCHAR'),
      12,
      'DATE',
      23,
      'RAW',
      24,
      'LONG RAW',
      69,
      'ROWID',
      96,
      decode(m.charsetform, 2, 'NCHAR', 'CHAR'),
      100,
      'BINARY_FLOAT',
      101,
      'BINARY_DOUBLE',
      105,
      'MLSLABEL',
      106,
      'MLSLABEL',
      112,
      decode(m.charsetform, 2, 'NCLOB', 'CLOB'),
      113,
      'BLOB',
      114,
      'BFILE',
      115,
      'CFILE',
      178,
      'TIME(' || m.scale || ')',
      179,
      'TIME(' || m.scale || ')' || ' WITH TIME ZONE',
      180,
      'TIMESTAMP(' || m.scale || ')',
      181,
      'TIMESTAMP(' || m.scale || ')' || ' WITH TIME ZONE',
      231,
      'TIMESTAMP(' || m.scale || ')' || ' WITH LOCAL TIME ZONE',
      182,
      'INTERVAL YEAR(' || m.precision# || ') TO MONTH',
      183,
      'INTERVAL DAY(' || m.precision# || ') TO SECOND(' || m.scale || ')',
      208,
      'UROWID',
      'UNDEFINED'
    ) DATA_TYPE,
    m.length DATA_LENGTH,
    m.precision# DATA_PRECISION,
    m.scale DATA_SCALE,
    io.option_value LOOP_VAR_OVERRIDE,
    io2.option_value LOOP_DENSE_OVERRIDE,
    io3.option_value LOOP_TYPE
  FROM
    olap_measures$ m,
    obj$ o,
    olap_syntax$ ss,
    olap_syntax$ s,
    olap_impl_options$ io,
    olap_impl_options$ io2,
    olap_impl_options$ io3,
    (
      select
        d. *
      from
        olap_descriptions$ d,
        nls_session_parameters n
      where
        n.parameter = 'NLS_LANGUAGE'
        and d.description_type = 'Description'
        and d.owning_object_type = 2 --MEASURE
        and (
          d.language = n.value
          or d.language like n.value || '\_%' escape '\')) d
  WHERE
    m.cube_obj#=o.obj# AND o.owner#=USERENV(' SCHEMAID ')
    AND m.measure_id=s.owner_id(+)
    AND m.measure_id=ss.owner_id(+)
    AND io.owning_objectid(+)=m.measure_id
    AND io.object_type(+)=2
    AND io.option_type(+)=51 -- LOOP_VAR_OVERRIDE
    AND io2.owning_objectid(+)=m.measure_id
    AND io2.object_type(+)=2
    AND io2.option_type(+)=52 -- LOOP_DENSE_OVERRIDE
    AND io3.owning_objectid(+)=m.measure_id
    AND io3.object_type(+)=2
    AND io3.option_type(+)=53 -- LOOP_TYPE
    AND m.is_hidden=0 --NOT HIDDEN
    AND s.owner_type(+)=2 --MEASURE
    AND s.ref_role(+)=14 --DERIVED_MEAS_EXPRESSION
    AND ss.owner_type(+)=2 --MEASURE
    AND ss.ref_role(+)=16 --CONSISTENT_SOLVE_SPEC
    AND m.measure_id=d.owning_object_id(+)
