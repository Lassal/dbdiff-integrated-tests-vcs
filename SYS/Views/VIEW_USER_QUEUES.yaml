schema: SYS
name: USER_QUEUES
updatedAllowed: true
insertAllowed: true
columns: []
referencedTables: []
viewDefinition: |-
  select
    q.name NAME,
    t.name QUEUE_TABLE,
    q.eventid QID,
    decode(
      q.usage,
      1,
      'EXCEPTION_QUEUE',
      2,
      'NON_PERSISTENT_QUEUE',
      'NORMAL_QUEUE'
    ) QUEUE_TYPE,
    q.max_retries MAX_RETRIES,
    q.retry_delay RETRY_DELAY,
    decode(
      bitand(q.enable_flag, 1),
      1,
      '  YES  ',
      '  NO  '
    ) ENQUEUE_ENABLED,
    decode(
      bitand(q.enable_flag, 2),
      2,
      '  YES  ',
      '  NO  '
    ) DEQUEUE_ENABLED,
    decode(q.ret_time, -1, ' FOREVER', q.ret_time) RETENTION,
    substr(q.queue_comment, 1, 50) USER_COMMENT,
    s.network_name NETWORK_NAME,
    decode(q.sharded, 1, 'TRUE', 'FALSE') SHARDED
  from
    system.aq$_queues q,
    system.aq$_queue_tables t,
    sys.user$ u,
    dba_services s
  where
    u.user# = USERENV('SCHEMAID')
    and u.name = t.schema
    and q.table_objno = t.objno
    and q.service_name = s.name (+)
