schema: SYS
name: USER_ADVISOR_SQLA_WK_STMTS
updatedAllowed: true
insertAllowed: true
columns:
- name: ACTION
  dataType: VARCHAR2
  textMaxLength: 64
  nullable: true
  ordinalPosition: 12
  dataTypeLength: 64
- name: ACTIVE_STAT_PERIOD
  dataType: NUMBER
  nullable: true
  ordinalPosition: 24
  dataTypeLength:
- name: BUFFER_GETS
  dataType: NUMBER
  nullable: true
  ordinalPosition: 14
  dataTypeLength:
- name: COMMAND_TYPE
  dataType: NUMBER
  nullable: true
  ordinalPosition: 22
  dataTypeLength:
- name: CPU_TIME
  dataType: NUMBER
  nullable: true
  ordinalPosition: 13
  dataTypeLength:
- name: DISK_READS
  dataType: NUMBER
  nullable: true
  ordinalPosition: 15
  dataTypeLength:
- name: ELAPSED_TIME
  dataType: NUMBER
  nullable: true
  ordinalPosition: 16
  dataTypeLength:
- name: EXECUTIONS
  dataType: NUMBER
  nullable: true
  ordinalPosition: 18
  dataTypeLength:
- name: FIRST_LOAD_TIME
  dataType: DATE
  nullable: true
  ordinalPosition: 19
  dataTypeLength:
- name: IMPORTANCE
  dataType: NUMBER
  nullable: true
  ordinalPosition: 28
  dataTypeLength:
- name: LAST_EXECUTION_DATE
  dataType: DATE
  nullable: true
  ordinalPosition: 20
  dataTypeLength:
- name: MODULE
  dataType: VARCHAR2
  textMaxLength: 64
  nullable: true
  ordinalPosition: 11
  dataTypeLength: 64
- name: PARSING_SCHEMA_NAME
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: true
  ordinalPosition: 9
  dataTypeLength: 128
- name: PLAN_HASH_VALUE
  dataType: NUMBER
  nullable: false
  ordinalPosition: 8
  dataTypeLength:
- name: POSTCOST
  dataType: NUMBER
  nullable: true
  ordinalPosition: 27
  dataTypeLength:
- name: PRECOST
  dataType: NUMBER
  nullable: true
  ordinalPosition: 26
  dataTypeLength:
- name: PRIORITY
  dataType: NUMBER
  nullable: true
  ordinalPosition: 21
  dataTypeLength:
- name: REC_ID
  dataType: NUMBER
  nullable: true
  ordinalPosition: 29
  dataTypeLength:
- name: ROWS_PROCESSED
  dataType: NUMBER
  nullable: true
  ordinalPosition: 17
  dataTypeLength:
- name: SQLSET_ID
  dataType: NUMBER
  nullable: true
  ordinalPosition: 3
  dataTypeLength:
- name: SQLSET_NAME
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: true
  ordinalPosition: 4
  dataTypeLength: 128
- name: SQL_ID
  dataType: VARCHAR2
  textMaxLength: 13
  nullable: false
  ordinalPosition: 6
  dataTypeLength: 13
- name: SQL_SEQ
  dataType: NUMBER
  nullable: false
  ordinalPosition: 7
  dataTypeLength:
- name: SQL_TEXT
  dataType: CLOB
  nullable: true
  ordinalPosition: 25
  dataTypeLength:
- name: STAT_PERIOD
  dataType: NUMBER
  nullable: true
  ordinalPosition: 23
  dataTypeLength:
- name: TASK_ID
  dataType: NUMBER
  nullable: false
  ordinalPosition: 2
  dataTypeLength:
- name: TASK_NAME
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: true
  ordinalPosition: 1
  dataTypeLength: 128
- name: USERNAME
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: true
  ordinalPosition: 10
  dataTypeLength: 128
- name: VALIDATED
  dataType: NUMBER
  nullable: true
  ordinalPosition: 30
  dataTypeLength:
- name: WORKLOAD_NAME
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: true
  ordinalPosition: 5
  dataTypeLength: 128
referencedTables:
- schema: SYS
  name: DBA_SQLSET_STATEMENTS
- schema: SYS
  name: WRI$_ADV_SQLA_MAP
- schema: SYS
  name: WRI$_ADV_SQLA_STMTS
- schema: SYS
  name: WRI$_ADV_TASKS
viewDefinition: |-
  select
    aa1.name as task_name,
    aa1.id as task_id,
    aa3.workload_id as sqlset_id,
    aa3.name as sqlset_name,
    aa3.name as workload_name,
    s.sql_id as sql_id,
    s.sql_seq as sql_seq,
    s.plan_hash_value as plan_hash_value,
    s.parsing_schema_name as parsing_schema_name,
    s.parsing_schema_name as username,
    s.module as module,
    s.action as action,
    s.cpu_time as cpu_time,
    s.buffer_gets as buffer_gets,
    s.disk_reads as disk_reads,
    s.elapsed_time as elapsed_time,
    s.rows_processed as rows_processed,
    s.executions as executions,
    to_date(s.first_load_time, 'yyyy-mm-dd/hh24:mi:ss') as first_load_time,
    to_date(s.first_load_time, 'yyyy-mm-dd/hh24:mi:ss') as last_execution_date,
    s.priority as priority,
    s.command_type as command_type,
    s.stat_period as stat_period,
    s.active_stat_period as active_stat_period,
    s.sql_text as sql_text,
    aa2.pre_cost as precost,
    aa2.post_cost as postcost,
    aa2.imp as importance,
    aa2.rec_id as rec_id,
    aa2.validated as validated
  from
    sys.wri$_adv_tasks aa1,
    sys.wri$_adv_sqla_stmts aa2,
    sys.wri$_adv_sqla_map aa3,
    dba_sqlset_statements s
  where
    aa1.id = aa2.task_id
    and aa1.id = aa3.task_id
    and aa2.workload_id = aa3.workload_id
    and s.sqlset_id = aa3.workload_id
    and s.sql_seq = aa2.stmt_id
    and aa3.is_sts = 1
    and aa1.owner# = userenv('SCHEMAID')
    and aa1.advisor_id = 2
