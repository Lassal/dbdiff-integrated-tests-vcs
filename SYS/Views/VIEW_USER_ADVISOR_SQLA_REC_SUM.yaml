schema: SYS
name: USER_ADVISOR_SQLA_REC_SUM
updatedAllowed: true
insertAllowed: true
columns:
- name: REC_ID
  dataType: NUMBER
  nullable: true
  ordinalPosition: 3
  dataTypeLength:
- name: TASK_ID
  dataType: NUMBER
  nullable: true
  ordinalPosition: 1
  dataTypeLength:
- name: TASK_NAME
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: true
  ordinalPosition: 2
  dataTypeLength: 128
- name: TOTAL_POSTCOST
  dataType: NUMBER
  nullable: true
  ordinalPosition: 6
  dataTypeLength:
- name: TOTAL_PRECOST
  dataType: NUMBER
  nullable: true
  ordinalPosition: 5
  dataTypeLength:
- name: TOTAL_STMTS
  dataType: NUMBER
  nullable: true
  ordinalPosition: 4
  dataTypeLength:
referencedTables:
- schema: SYS
  name: WRI$_ADV_SQLA_STMTS
- schema: SYS
  name: WRI$_ADV_TASKS
viewDefinition: |-
  select
    max(a .task_id) as task_id,
    max(b.name) as task_name,
    max(a .rec_id) as rec_id,
    count(*) as total_stmts,
    sum(a .pre_cost) as total_precost,
    sum(a .post_cost) as total_postcost
  from
    wri$_adv_sqla_stmts a,
    wri$_adv_tasks b
  where
    a .task_id = b.id
    and b.owner# = userenv('SCHEMAID')
    and b.advisor_id = 2
  group by
    a .task_id,
    a .rec_id
