schema: SYS
name: USER_SYS_PRIVS
updatedAllowed: true
insertAllowed: true
columns:
- name: ADMIN_OPTION
  dataType: VARCHAR2
  textMaxLength: 3
  nullable: true
  ordinalPosition: 3
  dataTypeLength: 3
- name: COMMON
  dataType: VARCHAR2
  textMaxLength: 3
  nullable: true
  ordinalPosition: 4
  dataTypeLength: 3
- name: PRIVILEGE
  dataType: VARCHAR2
  textMaxLength: 40
  nullable: true
  ordinalPosition: 2
  dataTypeLength: 40
- name: USERNAME
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: true
  ordinalPosition: 1
  dataTypeLength: 128
referencedTables:
- schema: SYS
  name: SYSAUTH$
- schema: SYS
  name: SYSTEM_PRIVILEGE_MAP
- schema: SYS
  name: USER$
viewDefinition: |-
  select
    decode(sa.grantee#, 1, 'PUBLIC', su.name),
    spm.name,
    decode(min(mod(option $, 2)), 1, 'YES', 'NO'),
    'NO'
  from
    sys.system_privilege_map spm,
    sys.sysauth$ sa,
    sys.user$ su
  where
    (
      (
        sa.grantee# = userenv('SCHEMAID')
        and su.user# = sa.grantee#
      )
      or sa.grantee# = 1
    )
    and sa.privilege# = spm.privilege
    and bitand(nvl(option $, 0), 4) = 0
    /* Local, and maybe Common, Privs */
  group by
    decode(sa.grantee#, 1, 'PUBLIC', su.name),
    spm.name
  union all
    /* Common Privileges */
  select
    decode(sa.grantee#, 1, 'PUBLIC', su.name),
    spm.name,
    decode(min(bitand(option $, 16)), 16, 'YES', 'NO'),
    'YES'
  from
    sys.system_privilege_map spm,
    sys.sysauth$ sa,
    sys.user$ su
  where
    (
      (
        sa.grantee# = userenv('SCHEMAID')
        and su.user# = sa.grantee#
      )
      or sa.grantee# = 1
    )
    and sa.privilege# = spm.privilege
    and bitand(option $, 8) = 8
    /* Common, and maybe Local, priv */
  group by
    decode(sa.grantee#, 1, 'PUBLIC', su.name),
    spm.name
