schema: SYS
name: ALL_IND_EXPRESSIONS
updatedAllowed: true
insertAllowed: true
columns:
- name: COLUMN_EXPRESSION
  dataType: LONG
  nullable: true
  ordinalPosition: 5
  dataTypeLength:
- name: COLUMN_POSITION
  dataType: NUMBER
  nullable: false
  ordinalPosition: 6
  dataTypeLength:
- name: INDEX_NAME
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: false
  ordinalPosition: 2
  dataTypeLength: 128
- name: INDEX_OWNER
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: false
  ordinalPosition: 1
  dataTypeLength: 128
- name: TABLE_NAME
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: false
  ordinalPosition: 4
  dataTypeLength: 128
- name: TABLE_OWNER
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: false
  ordinalPosition: 3
  dataTypeLength: 128
referencedTables:
- schema: SYS
  name: COL$
- schema: SYS
  name: ICOL$
- schema: SYS
  name: IND$
- schema: SYS
  name: OBJ$
- schema: SYS
  name: OBJAUTH$
- schema: SYS
  name: USER$
- schema: SYS
  name: V$ENABLEDPRIVS
- schema: SYS
  name: X$KZSRO
viewDefinition: |-
  select
    io.name,
    idx.name,
    bo.name,
    base.name,
    c .default$,
    ic.pos#
  from
    sys.col$ c,
    sys.obj$ idx,
    sys.obj$ base,
    sys.icol$ ic,
    sys.user$ io,
    sys.user$ bo,
    sys.ind$ i
  where
    bitand(ic.spare1, 1) = 1
    /* an expression */
    and (bitand(i.property, 1024) = 0)
    /* not bmji */
    and ic.bo# = c .obj#
    and ic.intcol# = c .intcol#
    and ic.bo# = base.obj#
    and io.user# = idx.owner#
    and bo.user# = base.owner#
    and ic.obj# = idx.obj#
    and idx.obj# = i.obj#
    and i.type# in (1, 2, 3, 4, 6, 7, 9)
    and (
      idx.owner# = userenv('SCHEMAID')
      or base.owner# = userenv('SCHEMAID')
      or base.obj# in (
        select
          obj#
        from
          sys.objauth$
        where
          grantee# in (
            select
              kzsrorol
            from
              x$kzsro
          )
      )
      or exists (
        select
          null
        from
          v$enabledprivs
        where
          priv_number in (
            -45
            /* LOCK ANY TABLE */,
            -47
            /* SELECT ANY TABLE */,
            -397
            /* READ ANY TABLE */,
            -48
            /* INSERT ANY TABLE */,
            -49
            /* UPDATE ANY TABLE */,
            -50
            /* DELETE ANY TABLE */
          )
      )
    )
