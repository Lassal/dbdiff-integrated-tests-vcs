schema: SYS
name: KU$_LIBRARY_VIEW
updatedAllowed: true
insertAllowed: true
columns:
- name: AGENT
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: true
  ordinalPosition: 8
  dataTypeLength: 128
- name: CREDENTIAL
  dataType: KU$_CREDENTIAL_T
  nullable: true
  ordinalPosition: 11
  dataTypeLength:
- name: DIRECTORY
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: true
  ordinalPosition: 9
  dataTypeLength: 128
- name: FILENAME
  dataType: VARCHAR2
  textMaxLength: 2000
  nullable: true
  ordinalPosition: 10
  dataTypeLength: 2000
- name: FILESPEC
  dataType: VARCHAR2
  textMaxLength: 2000
  nullable: true
  ordinalPosition: 5
  dataTypeLength: 2000
- name: LIB_AUDIT
  dataType: VARCHAR2
  textMaxLength: 38
  nullable: true
  ordinalPosition: 6
  dataTypeLength: 38
- name: OBJ_NUM
  dataType: NUMBER
  nullable: true
  ordinalPosition: 3
  dataTypeLength:
- name: PROPERTY
  dataType: NUMBER
  nullable: true
  ordinalPosition: 7
  dataTypeLength:
- name: SCHEMA_OBJ
  dataType: KU$_SCHEMAOBJ_T
  nullable: true
  ordinalPosition: 4
  dataTypeLength:
- name: VERS_MAJOR
  dataType: CHAR
  textMaxLength: 1
  nullable: true
  ordinalPosition: 1
  dataTypeLength: 1
- name: VERS_MINOR
  dataType: CHAR
  textMaxLength: 1
  nullable: true
  ordinalPosition: 2
  dataTypeLength: 1
referencedTables:
- schema: SYS
  name: DEPENDENCY$
- schema: SYS
  name: KU$_CREDENTIAL_VIEW
- schema: SYS
  name: KU$_EDITION_SCHEMAOBJ_VIEW
- schema: SYS
  name: LIBRARY$
- schema: SYS
  name: OBJ$
- schema: SYS
  name: SESSION_ROLES
viewDefinition: |-
  select
    '1',
    '0',
    lb.obj#,
    value(o),
    lb.filespec,
    replace(lb.audit$, chr(0), '-'),
    lb.property,
    lb.agent,
    (
      select
        do .name
      from
        sys.obj$ do
      where
        do .obj# = (
          select
            d.p_obj#
          from
            sys.dependency$ d
          where
            d.d_obj# = lb.obj#
            and do .obj# = d.p_obj#
            and do .type# = 23
        )
    ),
    lb.leaf_filename,
    (
      select
        value(c)
      from
        sys.ku$_credential_view c
      where
        c .schema_obj.obj_num = (
          select
            d.p_obj#
          from
            sys.dependency$ d,
            obj$ oo
          where
            d.d_obj# = lb.obj#
            and oo.obj# = d.p_obj#
            and oo.type# = 90
        )
    )
  from
    sys.ku$_edition_schemaobj_view o,
    sys.library$ lb
  where
    o.type_num = 22
    AND lb.obj# = o.obj_num
    AND (
      SYS_CONTEXT('USERENV', 'CURRENT_USERID') IN (o.owner_num, 0)
      OR EXISTS (
        SELECT
          *
        FROM
          sys.session_roles
        WHERE
          role = 'SELECT_CATALOG_ROLE'
      )
    )
