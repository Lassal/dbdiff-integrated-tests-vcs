schema: SYS
name: USER_SQLTUNE_PLANS
updatedAllowed: true
insertAllowed: true
columns:
- name: ACCESS_PREDICATES
  dataType: VARCHAR2
  textMaxLength: 4000
  nullable: true
  ordinalPosition: 36
  dataTypeLength: 4000
- name: ATTRIBUTE
  dataType: VARCHAR2
  textMaxLength: 34
  nullable: true
  ordinalPosition: 4
  dataTypeLength: 34
- name: BYTES
  dataType: NUMBER
  numericPrecision: 38
  numericScale: 0
  nullable: true
  ordinalPosition: 26
  dataTypeLength: 38,0
- name: CARDINALITY
  dataType: NUMBER
  numericPrecision: 38
  numericScale: 0
  nullable: true
  ordinalPosition: 25
  dataTypeLength: 38,0
- name: COST
  dataType: NUMBER
  numericPrecision: 38
  numericScale: 0
  nullable: true
  ordinalPosition: 24
  dataTypeLength: 38,0
- name: CPU_COST
  dataType: NUMBER
  numericPrecision: 38
  numericScale: 0
  nullable: true
  ordinalPosition: 33
  dataTypeLength: 38,0
- name: DEPTH
  dataType: NUMBER
  numericPrecision: 38
  numericScale: 0
  nullable: true
  ordinalPosition: 22
  dataTypeLength: 38,0
- name: DISTRIBUTION
  dataType: VARCHAR2
  textMaxLength: 30
  nullable: true
  ordinalPosition: 32
  dataTypeLength: 30
- name: EXECUTION_NAME
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: false
  ordinalPosition: 2
  dataTypeLength: 128
- name: FILTER_PREDICATES
  dataType: VARCHAR2
  textMaxLength: 4000
  nullable: true
  ordinalPosition: 37
  dataTypeLength: 4000
- name: ID
  dataType: NUMBER
  numericPrecision: 38
  numericScale: 0
  nullable: false
  ordinalPosition: 20
  dataTypeLength: 38,0
- name: IO_COST
  dataType: NUMBER
  numericPrecision: 38
  numericScale: 0
  nullable: true
  ordinalPosition: 34
  dataTypeLength: 38,0
- name: OBJECT_ALIAS
  dataType: VARCHAR2
  textMaxLength: 261
  nullable: true
  ordinalPosition: 15
  dataTypeLength: 261
- name: OBJECT_ID
  dataType: NUMBER
  numericPrecision: 38
  numericScale: 0
  nullable: false
  ordinalPosition: 3
  dataTypeLength: 38,0
- name: OBJECT_INSTANCE
  dataType: NUMBER
  numericPrecision: 38
  numericScale: 0
  nullable: true
  ordinalPosition: 16
  dataTypeLength: 38,0
- name: OBJECT_NAME
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: true
  ordinalPosition: 14
  dataTypeLength: 128
- name: OBJECT_NODE
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: true
  ordinalPosition: 12
  dataTypeLength: 128
- name: OBJECT_OWNER
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: true
  ordinalPosition: 13
  dataTypeLength: 128
- name: OBJECT_TYPE
  dataType: VARCHAR2
  textMaxLength: 30
  nullable: true
  ordinalPosition: 17
  dataTypeLength: 30
- name: OPERATION
  dataType: VARCHAR2
  textMaxLength: 30
  nullable: true
  ordinalPosition: 10
  dataTypeLength: 30
- name: OPTIMIZER
  dataType: VARCHAR2
  textMaxLength: 255
  nullable: true
  ordinalPosition: 18
  dataTypeLength: 255
- name: OPTIONS
  dataType: VARCHAR2
  textMaxLength: 255
  nullable: true
  ordinalPosition: 11
  dataTypeLength: 255
- name: OTHER
  dataType: LONG
  nullable: true
  ordinalPosition: 31
  dataTypeLength:
- name: OTHER_TAG
  dataType: VARCHAR2
  textMaxLength: 255
  nullable: true
  ordinalPosition: 27
  dataTypeLength: 255
- name: OTHER_XML
  dataType: CLOB
  nullable: true
  ordinalPosition: 41
  dataTypeLength:
- name: PARENT_ID
  dataType: NUMBER
  numericPrecision: 38
  numericScale: 0
  nullable: true
  ordinalPosition: 21
  dataTypeLength: 38,0
- name: PARTITION_ID
  dataType: NUMBER
  numericPrecision: 38
  numericScale: 0
  nullable: true
  ordinalPosition: 30
  dataTypeLength: 38,0
- name: PARTITION_START
  dataType: VARCHAR2
  textMaxLength: 255
  nullable: true
  ordinalPosition: 28
  dataTypeLength: 255
- name: PARTITION_STOP
  dataType: VARCHAR2
  textMaxLength: 255
  nullable: true
  ordinalPosition: 29
  dataTypeLength: 255
- name: PLAN_HASH_VALUE
  dataType: NUMBER
  nullable: false
  ordinalPosition: 6
  dataTypeLength:
- name: PLAN_ID
  dataType: NUMBER
  nullable: false
  ordinalPosition: 7
  dataTypeLength:
- name: POSITION
  dataType: NUMBER
  numericPrecision: 38
  numericScale: 0
  nullable: true
  ordinalPosition: 23
  dataTypeLength: 38,0
- name: PROJECTION
  dataType: VARCHAR2
  textMaxLength: 4000
  nullable: true
  ordinalPosition: 38
  dataTypeLength: 4000
- name: QBLOCK_NAME
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: true
  ordinalPosition: 40
  dataTypeLength: 128
- name: REMARKS
  dataType: VARCHAR2
  textMaxLength: 4000
  nullable: true
  ordinalPosition: 9
  dataTypeLength: 4000
- name: SEARCH_COLUMNS
  dataType: NUMBER
  nullable: true
  ordinalPosition: 19
  dataTypeLength:
- name: STATEMENT_ID
  dataType: VARCHAR2
  textMaxLength: 30
  nullable: true
  ordinalPosition: 5
  dataTypeLength: 30
- name: TASK_ID
  dataType: NUMBER
  numericPrecision: 38
  numericScale: 0
  nullable: false
  ordinalPosition: 1
  dataTypeLength: 38,0
- name: TEMP_SPACE
  dataType: NUMBER
  numericPrecision: 38
  numericScale: 0
  nullable: true
  ordinalPosition: 35
  dataTypeLength: 38,0
- name: TIME
  dataType: NUMBER
  numericPrecision: 38
  numericScale: 0
  nullable: true
  ordinalPosition: 39
  dataTypeLength: 38,0
- name: TIMESTAMP
  dataType: DATE
  nullable: true
  ordinalPosition: 8
  dataTypeLength:
referencedTables:
- schema: SYS
  name: WRI$_ADV_SQLT_PLANS
- schema: SYS
  name: WRI$_ADV_SQLT_PLAN_HASH
- schema: SYS
  name: WRI$_ADV_TASKS
viewDefinition: |-
  SELECT
    h.task_id,
    h.exec_name as execution_name,
    h.object_id,
    (
      case
        when h.attribute < power(2, 16) then decode(
          h.attribute,
          0,
          'Original',
          1,
          'Original with adjusted cost',
          2,
          'Using SQL profile',
          3,
          'Using new indices',
          5,
          'Using baseline plan',
          6,
          'Using non-accepted plan',
          7,
          'Using parallel execution'
        )
        when h.attribute > 3 * power(2, 16)
        and h.attribute < 4 * power(2, 16) then 'Plan from workload repository'
        when h.attribute > 4 * power(2, 16)
        and h.attribute < 5 * power(2, 16) then 'Plan from cursor cache'
        when h.attribute > 5 * power(2, 16)
        and h.attribute < 6 * power(2, 16) then 'Plan from SQL tuning set'
        when h.attribute > 6 * power(2, 16) then 'Plan from SQL performance analyzer'
      end
    ) AS attribute,
    p.statement_id,
    h.plan_hash as PLAN_HASH_VALUE,
    h.plan_id,
    p.timestamp,
    p.remarks,
    p.operation,
    p.options,
    p.object_node,
    p.object_owner,
    p.object_name,
    p.object_alias,
    p.object_instance,
    p.object_type,
    p.optimizer,
    p.search_columns,
    p.id,
    p.parent_id,
    p.depth,
    p.position,
    p.cost,
    p.cardinality,
    p.bytes,
    p.other_tag,
    p.partition_start,
    p.partition_stop,
    p.partition_id,
    p.other,
    p.distribution,
    p.cpu_cost,
    p.io_cost,
    p.temp_space,
    p.access_predicates,
    p.filter_predicates,
    p.projection,
    p.time,
    p.qblock_name,
    p.other_xml
  FROM
    wri$_adv_sqlt_plan_hash h,
    wri$_adv_sqlt_plans p,
    wri$_adv_tasks t
  WHERE
    h.task_id = t.id
    and h.plan_id = p.plan_id
    and t.owner# = SYS_CONTEXT('USERENV', 'CURRENT_USERID')
