schema: SYS
name: USER_XML_VIEWS
updatedAllowed: true
insertAllowed: true
columns:
- name: ELEMENT_NAME
  dataType: VARCHAR2
  textMaxLength: 2000
  nullable: true
  ordinalPosition: 4
  dataTypeLength: 2000
- name: SCHEMA_OWNER
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: true
  ordinalPosition: 3
  dataTypeLength: 128
- name: VIEW_NAME
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: true
  ordinalPosition: 1
  dataTypeLength: 128
- name: XMLSCHEMA
  dataType: VARCHAR2
  textMaxLength: 700
  nullable: true
  ordinalPosition: 2
  dataTypeLength: 700
referencedTables:
- schema: SYS
  name: COL$
- schema: SYS
  name: COLTYPE$
- schema: SYS
  name: OBJ$
- schema: SYS
  name: OPQTYPE$
- schema: SYS
  name: VIEW$
- schema: XDB
  name: XDB$ELEMENT
- schema: XDB
  name: XDB$SCHEMA
viewDefinition: |-
  select
    o.name,
    null,
    null,
    null
  from
    sys.opqtype$ opq,
    sys.view$ v,
    sys.obj$ o,
    sys.coltype$ ac,
    sys.col$ tc
  where
    o.owner# = userenv('SCHEMAID')
    and o.obj# = v.obj#
    and bitand(v.property, 1) = 1
    and v.obj# = tc.obj#
    and tc.name = 'SYS_NC_ROWINFO$'
    and tc.obj# = ac.obj#
    and tc.intcol# = ac.intcol#
    and ac.toid = '00000000000000000000000000020100'
    and tc.intcol# = opq.intcol#
    and tc.obj# = opq.obj#
    and bitand(opq.flags, 2) = 0
  union all
  select
    o.name,
    schm.xmldata.schema_url,
    schm.xmldata.schema_owner,
    decode(
      xel.xmldata.property.name,
      null,
      xel.xmldata.property.propref_name.name,
      xel.xmldata.property.name
    )
  from
    xdb.xdb$element xel,
    xdb.xdb$schema schm,
    sys.opqtype$ opq,
    sys.view$ v,
    sys.obj$ o,
    sys.coltype$ ac,
    sys.col$ tc
  where
    o.owner# = userenv('SCHEMAID')
    and o.obj# = v.obj#
    and bitand(v.property, 1) = 1
    and v.obj# = tc.obj#
    and tc.name = 'SYS_NC_ROWINFO$'
    and tc.obj# = ac.obj#
    and tc.intcol# = ac.intcol#
    and ac.toid = '00000000000000000000000000020100'
    and tc.intcol# = opq.intcol#
    and tc.obj# = opq.obj#
    and opq.schemaoid = schm.sys_nc_oid$
    and opq.elemnum = xel.xmldata.property.prop_number
