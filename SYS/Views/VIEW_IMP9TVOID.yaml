schema: SYS
name: IMP9TVOID
updatedAllowed: true
insertAllowed: true
columns:
- name: HASH
  dataType: RAW
  nullable: true
  ordinalPosition: 3
  dataTypeLength:
- name: ROOTTOID
  dataType: RAW
  nullable: true
  ordinalPosition: 7
  dataTypeLength:
- name: STATUS
  dataType: NUMBER
  nullable: false
  ordinalPosition: 5
  dataTypeLength:
- name: TNAME
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: false
  ordinalPosition: 1
  dataTypeLength: 128
- name: TOWNER
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: false
  ordinalPosition: 2
  dataTypeLength: 128
- name: TVOID
  dataType: RAW
  nullable: false
  ordinalPosition: 4
  dataTypeLength:
- name: TYPEID
  dataType: RAW
  nullable: true
  ordinalPosition: 6
  dataTypeLength:
referencedTables:
- schema: SYS
  name: OBJ$
- schema: SYS
  name: OBJAUTH$
- schema: SYS
  name: SESSION_ROLES
- schema: SYS
  name: TYPE$
- schema: SYS
  name: USER$
- schema: SYS
  name: X$KZSRO
viewDefinition: |-
  SELECT
    o$.name,
    u$.name,
    t$.hashcode,
    t$.tvoid,
    o$.status,
    t$.typeid,
    t$.roottoid
  FROM
    sys.obj$ o$,
    sys.user$ u$,
    sys.type$ t$
  WHERE
    o$.type# = 13
    AND o$.owner# = u$.user#
    AND t$.toid = o$.oid$
    AND t$.toid = t$.tvoid
    AND
    /* only the latest */
    (
      userenv('SCHEMAID') IN (o$.owner#, 0)
      OR
      /* System or owner */
      EXISTS (
        /* user has select role */
        SELECT
          role
        FROM
          sys.session_roles
        WHERE
          role = 'SELECT_CATALOG_ROLE'
      )
      OR (
        o$.obj# IN
        /* user has execute priv */
        (
          SELECT
            oa$.obj#
          FROM
            sys.objauth$ oa$
          WHERE
            o$.obj# = oa$.obj#
            AND oa$.grantee# IN
            /* granted to current user/public */
            (
              SELECT
                kzsrorol
              from
                x$kzsro
            )
            AND privilege# = 12
        )
      )
    )
    /* Execute priv */
