schema: SYS
name: KU$_CLUSTER_VIEW
updatedAllowed: true
insertAllowed: true
columns:
- name: AVGCHN
  dataType: NUMBER
  nullable: true
  ordinalPosition: 23
  dataTypeLength:
- name: BLOCKNO
  dataType: NUMBER
  nullable: true
  ordinalPosition: 10
  dataTypeLength:
- name: BLOCKSIZE
  dataType: NUMBER
  nullable: true
  ordinalPosition: 7
  dataTypeLength:
- name: COL_LIST
  dataType: KU$_COLUMN_LIST_T
  nullable: true
  ordinalPosition: 5
  dataTypeLength:
- name: DEGREE
  dataType: NUMBER
  nullable: true
  ordinalPosition: 21
  dataTypeLength:
- name: EXTIND
  dataType: NUMBER
  nullable: true
  ordinalPosition: 19
  dataTypeLength:
- name: FILENO
  dataType: NUMBER
  nullable: true
  ordinalPosition: 9
  dataTypeLength:
- name: FLAGS
  dataType: NUMBER
  nullable: true
  ordinalPosition: 20
  dataTypeLength:
- name: FUNCLEN
  dataType: NUMBER
  nullable: true
  ordinalPosition: 24
  dataTypeLength:
- name: FUNCTION
  dataType: NUMBER
  nullable: true
  ordinalPosition: 18
  dataTypeLength:
- name: FUNCTXT
  dataType: VARCHAR2
  nullable: true
  ordinalPosition: 25
  dataTypeLength:
- name: FUNC_CLOB
  dataType: CLOB
  nullable: true
  ordinalPosition: 27
  dataTypeLength:
- name: FUNC_VCNT
  dataType: KU$_VCNT
  nullable: true
  ordinalPosition: 26
  dataTypeLength:
- name: HASHFUNC
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: true
  ordinalPosition: 16
  dataTypeLength: 128
- name: HASHKEYS
  dataType: NUMBER
  nullable: true
  ordinalPosition: 17
  dataTypeLength:
- name: INITRANS
  dataType: NUMBER
  nullable: true
  ordinalPosition: 13
  dataTypeLength:
- name: INSTANCES
  dataType: NUMBER
  nullable: true
  ordinalPosition: 22
  dataTypeLength:
- name: MAXTRANS
  dataType: NUMBER
  nullable: true
  ordinalPosition: 14
  dataTypeLength:
- name: OBJ_NUM
  dataType: NUMBER
  nullable: true
  ordinalPosition: 3
  dataTypeLength:
- name: PCT_FREE
  dataType: NUMBER
  nullable: true
  ordinalPosition: 11
  dataTypeLength:
- name: PCT_USED
  dataType: NUMBER
  nullable: true
  ordinalPosition: 12
  dataTypeLength:
- name: SCHEMA_OBJ
  dataType: KU$_SCHEMAOBJ_T
  nullable: true
  ordinalPosition: 4
  dataTypeLength:
- name: SIZE_T
  dataType: NUMBER
  nullable: true
  ordinalPosition: 15
  dataTypeLength:
- name: SPARE1
  dataType: NUMBER
  nullable: true
  ordinalPosition: 29
  dataTypeLength:
- name: SPARE2
  dataType: NUMBER
  nullable: true
  ordinalPosition: 30
  dataTypeLength:
- name: SPARE3
  dataType: NUMBER
  nullable: true
  ordinalPosition: 31
  dataTypeLength:
- name: SPARE4
  dataType: NUMBER
  nullable: true
  ordinalPosition: 32
  dataTypeLength:
- name: SPARE5
  dataType: VARCHAR2
  textMaxLength: 1000
  nullable: true
  ordinalPosition: 33
  dataTypeLength: 1000
- name: SPARE6
  dataType: VARCHAR2
  textMaxLength: 1000
  nullable: true
  ordinalPosition: 34
  dataTypeLength: 1000
- name: SPARE7
  dataType: VARCHAR2
  textMaxLength: 19
  nullable: true
  ordinalPosition: 35
  dataTypeLength: 19
- name: STORAGE
  dataType: KU$_STORAGE_T
  nullable: true
  ordinalPosition: 28
  dataTypeLength:
- name: TSNO
  dataType: NUMBER
  nullable: true
  ordinalPosition: 8
  dataTypeLength:
- name: TS_NAME
  dataType: VARCHAR2
  textMaxLength: 30
  nullable: true
  ordinalPosition: 6
  dataTypeLength: 30
- name: VERS_MAJOR
  dataType: CHAR
  textMaxLength: 1
  nullable: true
  ordinalPosition: 1
  dataTypeLength: 1
- name: VERS_MINOR
  dataType: CHAR
  textMaxLength: 1
  nullable: true
  ordinalPosition: 2
  dataTypeLength: 1
referencedTables:
- schema: SYS
  name: CDEF$
- schema: SYS
  name: CLU$
- schema: SYS
  name: KU$_COLUMN_VIEW
- schema: SYS
  name: KU$_SCHEMAOBJ_VIEW
- schema: SYS
  name: KU$_STORAGE_VIEW
- schema: SYS
  name: SESSION_ROLES
- schema: SYS
  name: TS$
viewDefinition: |-
  select
    '1',
    '3',
    o.obj_num,
    value(o),
    cast(
      multiset(
        select
          *
        from
          ku$_column_view col
        where
          col.obj_num = c .obj#
        order by
          col.col_num,
          col.intcol_num
      ) as ku$_column_list_t
    ),
    ts.name,
    ts.blocksize,
    ts.ts#,
    c .file#,
    c .block#,
    c .pctfree$,
    c .pctused$,
    c .initrans,
    c .maxtrans,
    NVL(c .size$, -1),
    c .hashfunc,
    NVL(c .hashkeys, 0),
    NVL(c .func, 1),
    c .extind,
    c .flags,
    NVL(c .degree, 1),
    NVL(c .instances, 1),
    NVL(c .avgchn, -1),
    (
      select
        condlength
      from
        sys.cdef$ co
      where
        co.obj# = c .obj#
    ),
    NULL,
    /* functxt  */
    NULL,
    /* func_vcnt */
    (
      select
        sys.dbms_metadata_util.long2clob(
          cd.condlength,
          'SYS.CDEF$',
          'CONDITION',
          cd.rowid
        )
      from
        sys.cdef$ cd
      where
        cd.obj# = c .obj#
    ),
    (
      select
        value(s)
      from
        ku$_storage_view s
      where
        s.file_num = c .file#
        and s.block_num = c .block#
        and s.ts_num = c .ts#
    ),
    c .spare1,
    c .spare2,
    c .spare3,
    c .spare4,
    c .spare5,
    c .spare6,
    to_char(c .spare7, 'YYYY/MM/DD HH24:MI:SS')
  from
    sys.ku$_schemaobj_view o,
    sys.ts$ ts,
    sys.clu$ c
  where
    o.obj_num = c .obj#
    AND c .ts# = ts.ts#
    AND (
      SYS_CONTEXT('USERENV', 'CURRENT_USERID') IN (o.owner_num, 0)
      OR EXISTS (
        SELECT
          *
        FROM
          sys.session_roles
        WHERE
          role = 'SELECT_CATALOG_ROLE'
      )
    )
