schema: SYS
name: USER_ADVISOR_OBJECTS
updatedAllowed: true
insertAllowed: true
columns:
- name: ATTR1
  dataType: VARCHAR2
  textMaxLength: 4000
  nullable: true
  ordinalPosition: 7
  dataTypeLength: 4000
- name: ATTR10
  dataType: NUMBER
  nullable: true
  ordinalPosition: 16
  dataTypeLength:
- name: ATTR11
  dataType: NUMBER
  nullable: true
  ordinalPosition: 17
  dataTypeLength:
- name: ATTR16
  dataType: VARCHAR2
  textMaxLength: 4000
  nullable: true
  ordinalPosition: 18
  dataTypeLength: 4000
- name: ATTR17
  dataType: VARCHAR2
  textMaxLength: 4000
  nullable: true
  ordinalPosition: 19
  dataTypeLength: 4000
- name: ATTR18
  dataType: VARCHAR2
  textMaxLength: 4000
  nullable: true
  ordinalPosition: 20
  dataTypeLength: 4000
- name: ATTR2
  dataType: VARCHAR2
  textMaxLength: 4000
  nullable: true
  ordinalPosition: 8
  dataTypeLength: 4000
- name: ATTR3
  dataType: VARCHAR2
  textMaxLength: 4000
  nullable: true
  ordinalPosition: 9
  dataTypeLength: 4000
- name: ATTR4
  dataType: CLOB
  nullable: true
  ordinalPosition: 10
  dataTypeLength:
- name: ATTR5
  dataType: VARCHAR2
  textMaxLength: 4000
  nullable: true
  ordinalPosition: 11
  dataTypeLength: 4000
- name: ATTR6
  dataType: RAW
  nullable: true
  ordinalPosition: 12
  dataTypeLength:
- name: ATTR7
  dataType: NUMBER
  nullable: true
  ordinalPosition: 13
  dataTypeLength:
- name: ATTR8
  dataType: NUMBER
  nullable: true
  ordinalPosition: 14
  dataTypeLength:
- name: ATTR9
  dataType: NUMBER
  nullable: true
  ordinalPosition: 15
  dataTypeLength:
- name: EXECUTION_NAME
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: true
  ordinalPosition: 6
  dataTypeLength: 128
- name: OBJECT_ID
  dataType: NUMBER
  nullable: false
  ordinalPosition: 1
  dataTypeLength:
- name: OTHER
  dataType: CLOB
  nullable: true
  ordinalPosition: 21
  dataTypeLength:
- name: TASK_ID
  dataType: NUMBER
  nullable: false
  ordinalPosition: 4
  dataTypeLength:
- name: TASK_NAME
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: true
  ordinalPosition: 5
  dataTypeLength: 128
- name: TYPE
  dataType: VARCHAR2
  textMaxLength: 64
  nullable: true
  ordinalPosition: 2
  dataTypeLength: 64
- name: TYPE_ID
  dataType: NUMBER
  nullable: false
  ordinalPosition: 3
  dataTypeLength:
referencedTables:
- schema: SYS
  name: WRH$_SQLTEXT
- schema: SYS
  name: WRI$_ADV_ADDM_TASKS
- schema: SYS
  name: WRI$_ADV_OBJECTS
- schema: SYS
  name: WRI$_ADV_TASKS
- schema: SYS
  name: X$KEAOBJT
viewDefinition: |-
  select
    a .id as object_id,
    c .object_type as type,
    a .type as type_id,
    a .task_id as task_id,
    b.name as task_name,
    a .exec_name as execution_name,
    a .attr1 as attr1,
    a .attr2 as attr2,
    a .attr3 as attr3,
    (
      case
        when b.advisor_id = 1
        and a .type = 7
        and length(attr4) = 1
        and
        /* attr4 has ' ' as default val */
        a .attr1 is not null then (
          select
            nvl(sql_text, ' ')
            /* backwards compat w/ tests */
          from
            wrh$_sqltext s,
            wri$_adv_addm_tasks t
          where
            t.task_id = a .task_id
            and s.dbid(+) = t.dbid
            and s.sql_id(+) = a .attr1
        )
        else a .attr4
      end
    ) as attr4,
    a .attr5 as attr5,
    a .attr6 as attr6,
    a .attr7 as attr7,
    a .attr8 as attr8,
    a .attr9 as attr9,
    a .attr10 as attr10,
    a .attr11 as attr11,
    a .attr16 as attr16,
    a .attr17 as attr17,
    a .attr18 as attr18,
    a .other as other
  from
    wri$_adv_objects a,
    wri$_adv_tasks b,
    x$keaobjt c
  where
    a .task_id = b.id
    and b.owner# = userenv('SCHEMAID')
    and c .indx = a .type
