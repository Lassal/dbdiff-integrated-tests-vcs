schema: SYS
name: USER_SCHEDULER_RUNNING_CHAINS
updatedAllowed: true
insertAllowed: true
columns:
- name: CHAIN_NAME
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: false
  ordinalPosition: 4
  dataTypeLength: 128
- name: CHAIN_OWNER
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: false
  ordinalPosition: 3
  dataTypeLength: 128
- name: COMPLETED
  dataType: VARCHAR2
  textMaxLength: 5
  nullable: true
  ordinalPosition: 8
  dataTypeLength: 5
- name: DURATION
  dataType: INTERVAL DAY(9) TO SECOND(6)
  numericPrecision: 9
  numericScale: 6
  nullable: true
  ordinalPosition: 11
  dataTypeLength: 9,6
- name: END_DATE
  dataType: TIMESTAMP(6) WITH TIME ZONE
  numericScale: 6
  nullable: true
  ordinalPosition: 10
  dataTypeLength:
- name: ERROR_CODE
  dataType: NUMBER
  nullable: true
  ordinalPosition: 7
  dataTypeLength:
- name: JOB_NAME
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: false
  ordinalPosition: 1
  dataTypeLength: 128
- name: JOB_SUBNAME
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: true
  ordinalPosition: 2
  dataTypeLength: 128
- name: PAUSE
  dataType: VARCHAR2
  textMaxLength: 5
  nullable: true
  ordinalPosition: 13
  dataTypeLength: 5
- name: PAUSE_BEFORE
  dataType: VARCHAR2
  textMaxLength: 5
  nullable: true
  ordinalPosition: 14
  dataTypeLength: 5
- name: RESTART_ON_FAILURE
  dataType: VARCHAR2
  textMaxLength: 5
  nullable: true
  ordinalPosition: 16
  dataTypeLength: 5
- name: RESTART_ON_RECOVERY
  dataType: VARCHAR2
  textMaxLength: 5
  nullable: true
  ordinalPosition: 15
  dataTypeLength: 5
- name: SKIP
  dataType: VARCHAR2
  textMaxLength: 5
  nullable: true
  ordinalPosition: 12
  dataTypeLength: 5
- name: START_DATE
  dataType: TIMESTAMP(6) WITH TIME ZONE
  numericScale: 6
  nullable: true
  ordinalPosition: 9
  dataTypeLength:
- name: STATE
  dataType: VARCHAR2
  textMaxLength: 15
  nullable: true
  ordinalPosition: 6
  dataTypeLength: 15
- name: STEP_JOB_LOG_ID
  dataType: NUMBER
  nullable: true
  ordinalPosition: 18
  dataTypeLength:
- name: STEP_JOB_SUBNAME
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: true
  ordinalPosition: 17
  dataTypeLength: 128
- name: STEP_NAME
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: false
  ordinalPosition: 5
  dataTypeLength: 128
referencedTables:
- schema: SYS
  name: OBJ$
- schema: SYS
  name: SCHEDULER$_JOB
- schema: SYS
  name: SCHEDULER$_STEP
- schema: SYS
  name: SCHEDULER$_STEP_STATE
- schema: SYS
  name: USER$
viewDefinition: |-
  SELECT
    jo.name,
    jo.subname,
    cu.name,
    co.name,
    cv.var_name,
    DECODE(
      BITAND(jss.flags, 2),
      2,
      DECODE(
        jss.status,
        'K',
        'PAUSED',
        'F',
        'PAUSED',
        'R',
        'RUNNING',
        'C',
        'SCHEDULED',
        'E',
        'RETRY SCHEDULED',
        'T',
        'STALLED',
        'P',
        'PAUSED',
        'NOT_STARTED'
      ),
      DECODE(
        jss.status,
        'K',
        'STOPPED',
        'R',
        'RUNNING',
        'C',
        'SCHEDULED',
        'E',
        'RETRY SCHEDULED',
        'T',
        'STALLED',
        'P',
        'PAUSED',
        'F',
        DECODE(jss.error_code, 0, 'SUCCEEDED', 'FAILED'),
        'NOT_STARTED'
      )
    ),
    jss.error_code,
    DECODE(jss.status, 'F', 'TRUE', 'K', 'TRUE', 'FALSE'),
    jss.start_date,
    jss.end_date,
    (
      CASE
        WHEN jss.end_date > jss.start_date THEN jss.end_date - jss.start_date
        ELSE NULL
      END
    ),
    DECODE(
      BITAND(jss.flags, 1),
      0,
      'FALSE',
      1,
      'TRUE',
      DECODE(BITAND(cv.flags, 1), 0, 'FALSE', 1, 'TRUE')
    ),
    DECODE(
      BITAND(jss.flags, 2),
      0,
      'FALSE',
      2,
      'TRUE',
      DECODE(BITAND(cv.flags, 2), 0, 'FALSE', 2, 'TRUE')
    ),
    DECODE(
      BITAND(jss.flags, 512),
      0,
      'FALSE',
      512,
      'TRUE',
      DECODE(BITAND(cv.flags, 512), 0, 'FALSE', 512, 'TRUE')
    ),
    DECODE(
      BITAND(jss.flags, 64),
      0,
      'FALSE',
      64,
      'TRUE',
      DECODE(BITAND(cv.flags, 64), 0, 'FALSE', 64, 'TRUE')
    ),
    DECODE(
      BITAND(jss.flags, 128),
      0,
      'FALSE',
      128,
      'TRUE',
      DECODE(BITAND(cv.flags, 128), 0, 'FALSE', 128, 'TRUE')
    ),
    jso.subname,
    jss.job_step_log_id
  FROM
    sys.scheduler$_job j
    JOIN obj$ jo ON (
      j.obj# = jo.obj#
      AND jo.owner# = USERENV('SCHEMAID')
    )
    JOIN obj$ co ON (co.obj# = j.program_oid)
    JOIN user $ cu ON (co.owner# = cu.user#)
    JOIN scheduler$_step cv ON (cv.oid = j.program_oid)
    LEFT OUTER JOIN scheduler$_step_state jss ON (
      jss.job_oid = j.obj#
      AND jss.step_name = cv.var_name
    )
    LEFT OUTER JOIN obj$ jso ON (jss.job_step_oid = jso.obj#)
  WHERE
    (
      BITAND(j.job_status, 2 + 256) != 0
      OR jo.subname IS NOT NULL
    )
