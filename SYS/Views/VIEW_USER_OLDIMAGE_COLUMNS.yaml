schema: SYS
name: USER_OLDIMAGE_COLUMNS
updatedAllowed: true
insertAllowed: true
columns:
- name: COLUMN_NAME
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: true
  ordinalPosition: 3
  dataTypeLength: 128
- name: OWNER
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: false
  ordinalPosition: 1
  dataTypeLength: 128
- name: TABLE_NAME
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: false
  ordinalPosition: 2
  dataTypeLength: 128
referencedTables:
- schema: SYS
  name: COL$
- schema: SYS
  name: COLTYPE$
- schema: SYS
  name: USER$
- schema: SYS
  name: _CURRENT_EDITION_OBJ
viewDefinition: |-
  select
    u.name,
    o.name,
    decode(
      c .name,
      'SYS_NC_ROWINFO$',
      'OBJECT TABLE',
      c .name
    )
  from
    sys.user$ u,
    sys. "_CURRENT_EDITION_OBJ" o,
    sys.col$ c,
    sys.coltype$ t
  where
    o.type# = 2
    and
    /* show only tables */
    o.owner# = userenv('SCHEMAID')
    and o.owner# = u.user#
    and o.obj# = c .obj#
    and o.obj# = t.obj#
    and c .intcol# = t.intcol#
    and
    /* do not show attribute columns. If the attribute is in 8.0 image, that
            means the whole column is in 8.0 image. Now, this will still show
            top level ADT columns in an object table, which is redundant. */
    bitand(c .property, 1) = 0
    and bitand(t.flags, 128) <> 0
