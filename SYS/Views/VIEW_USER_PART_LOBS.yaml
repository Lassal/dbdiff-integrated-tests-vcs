schema: SYS
name: USER_PART_LOBS
updatedAllowed: true
insertAllowed: true
viewDefinition: |-
  select
    o.name,
    decode(bitand(c .property, 1), 1, a .name, c .name),
    lo.name,
    io.name,
    plob.defchunk,
    plob.defpctver$,
    decode(
      bitand(plob.defflags, 795),
      1,
      'NO',
      2,
      'NO',
      8,
      'CACHEREADS',
      16,
      'CACHEREADS',
      256,
      'YES',
      512,
      'YES',
      'YES'
    ),
    decode(plob.defpro, 0, 'NO', 2048, 'NO', 'YES'),
    ts.name,
    decode(
      plob.definiexts,
      NULL,
      'DEFAULT',
      plob.definiexts
    ),
    decode(
      plob.defextsize,
      NULL,
      'DEFAULT',
      plob.defextsize
    ),
    decode(
      plob.defminexts,
      NULL,
      'DEFAULT',
      plob.defminexts
    ),
    decode(
      plob.defmaxexts,
      NULL,
      'DEFAULT',
      plob.defmaxexts
    ),
    decode(
      plob.defmaxsize,
      NULL,
      'DEFAULT',
      plob.defmaxsize
    ),
    decode(
      bitand(plob.defpro, 2048),
      2048,
      decode(
        plob.defretention,
        to_number(NULL),
        'DEFAULT',
        0,
        'NONE',
        1,
        'AUTO',
        2,
        'MIN',
        3,
        'MAX',
        4,
        'DEFAULT',
        'INVALID'
      ),
      decode(
        bitand(plob.defflags, 32),
        32,
        'YES',
        'NO'
      )
    ),
    decode(
      plob.defmintime,
      NULL,
      'DEFAULT',
      plob.defmintime
    ),
    decode(plob.defextpct, NULL, 'DEFAULT', plob.defextpct),
    decode(plob.deflists, NULL, 'DEFAULT', plob.deflists),
    decode(plob.defgroups, NULL, 'DEFAULT', plob.defgroups),
    decode(
      bitand(plob.defflags, 790),
      0,
      'NONE',
      4,
      'YES',
      2,
      'NO',
      16,
      'NO',
      256,
      'NO',
      512,
      'YES',
      'UNKNOWN'
    ),
    decode(
      bitand(plob.defbufpool, 3),
      1,
      'KEEP',
      2,
      'RECYCLE',
      'DEFAULT'
    ),
    decode(
      bitand(plob.defbufpool, 12) / 4,
      1,
      'KEEP',
      2,
      'NONE',
      'DEFAULT'
    ),
    decode(
      bitand(plob.defbufpool, 48) / 16,
      1,
      'KEEP',
      2,
      'NONE',
      'DEFAULT'
    ),
    decode(
      bitand(plob.defflags, 4096),
      4096,
      'YES',
      decode(bitand(plob.defpro, 2048), 2048, 'NO', 'NONE')
    ),
    decode(
      bitand(plob.defflags, 57344),
      8192,
      'LOW',
      16384,
      'MEDIUM',
      32768,
      'HIGH',
      decode(bitand(plob.defpro, 2048), 2048, 'NO', 'NONE')
    ),
    decode(
      bitand(plob.defflags, 458752),
      65536,
      'LOB',
      131072,
      'OBJECT',
      327680,
      'LOB VALIDATE',
      393216,
      'OBJECT VALIDATE',
      decode(bitand(plob.defpro, 2048), 2048, 'NO', 'NONE')
    ),
    decode(bitand(plob.defpro, 2048), 2048, 'YES', 'NO')
  from
    sys.obj$ o,
    sys.col$ c,
    sys.lob$ l,
    sys.partlob$ plob,
    sys.obj$ lo,
    sys.obj$ io,
    sys.ts$ ts,
    sys.attrcol$ a
  where
    o.owner# = userenv('SCHEMAID')
    and o.obj# = c .obj#
    and c .obj# = l.obj#
    and c .intcol# = l.intcol#
    and l.lobj# = lo.obj#
    and l.ind# = io.obj#
    and l.lobj# = plob.lobj#
    and plob.defts# = ts.ts# (+)
    and bitand(c .property, 32768) != 32768
    /* not unused column */
    and c .obj# = a .obj#(+)
    and c .intcol# = a .intcol#(+)
    and o.namespace = 1
    and o.remoteowner IS NULL
    and o.linkname IS NULL
    and o.subname IS NULL
    and lo.namespace = 8
    and lo.remoteowner IS NULL
    and lo.linkname IS NULL
    and lo.subname IS NULL
    and lo.owner# = userenv('SCHEMAID')
columns: []
referencedTables: []
