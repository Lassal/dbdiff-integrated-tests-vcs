schema: SYS
name: ALL_PART_INDEXES
updatedAllowed: true
insertAllowed: true
columns:
- name: ALIGNMENT
  dataType: VARCHAR2
  textMaxLength: 12
  nullable: true
  ordinalPosition: 11
  dataTypeLength: 12
- name: DEF_BUFFER_POOL
  dataType: VARCHAR2
  textMaxLength: 7
  nullable: true
  ordinalPosition: 25
  dataTypeLength: 7
- name: DEF_CELL_FLASH_CACHE
  dataType: VARCHAR2
  textMaxLength: 7
  nullable: true
  ordinalPosition: 27
  dataTypeLength: 7
- name: DEF_FLASH_CACHE
  dataType: VARCHAR2
  textMaxLength: 7
  nullable: true
  ordinalPosition: 26
  dataTypeLength: 7
- name: DEF_FREELISTS
  dataType: NUMBER
  nullable: false
  ordinalPosition: 22
  dataTypeLength:
- name: DEF_FREELIST_GROUPS
  dataType: NUMBER
  nullable: false
  ordinalPosition: 23
  dataTypeLength:
- name: DEF_INITIAL_EXTENT
  dataType: VARCHAR2
  textMaxLength: 40
  nullable: true
  ordinalPosition: 16
  dataTypeLength: 40
- name: DEF_INI_TRANS
  dataType: NUMBER
  nullable: false
  ordinalPosition: 14
  dataTypeLength:
- name: DEF_LOGGING
  dataType: VARCHAR2
  textMaxLength: 7
  nullable: true
  ordinalPosition: 24
  dataTypeLength: 7
- name: DEF_MAX_EXTENTS
  dataType: VARCHAR2
  textMaxLength: 40
  nullable: true
  ordinalPosition: 19
  dataTypeLength: 40
- name: DEF_MAX_SIZE
  dataType: VARCHAR2
  textMaxLength: 40
  nullable: true
  ordinalPosition: 20
  dataTypeLength: 40
- name: DEF_MAX_TRANS
  dataType: NUMBER
  nullable: false
  ordinalPosition: 15
  dataTypeLength:
- name: DEF_MIN_EXTENTS
  dataType: VARCHAR2
  textMaxLength: 40
  nullable: true
  ordinalPosition: 18
  dataTypeLength: 40
- name: DEF_NEXT_EXTENT
  dataType: VARCHAR2
  textMaxLength: 40
  nullable: true
  ordinalPosition: 17
  dataTypeLength: 40
- name: DEF_PARAMETERS
  dataType: VARCHAR2
  textMaxLength: 1000
  nullable: true
  ordinalPosition: 28
  dataTypeLength: 1000
- name: DEF_PCT_FREE
  dataType: NUMBER
  nullable: false
  ordinalPosition: 13
  dataTypeLength:
- name: DEF_PCT_INCREASE
  dataType: VARCHAR2
  textMaxLength: 40
  nullable: true
  ordinalPosition: 21
  dataTypeLength: 40
- name: DEF_SUBPARTITION_COUNT
  dataType: NUMBER
  nullable: true
  ordinalPosition: 7
  dataTypeLength:
- name: DEF_TABLESPACE_NAME
  dataType: VARCHAR2
  textMaxLength: 30
  nullable: true
  ordinalPosition: 12
  dataTypeLength: 30
- name: INDEX_NAME
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: false
  ordinalPosition: 2
  dataTypeLength: 128
- name: INTERVAL
  dataType: VARCHAR2
  textMaxLength: 1000
  nullable: true
  ordinalPosition: 29
  dataTypeLength: 1000
- name: LOCALITY
  dataType: VARCHAR2
  textMaxLength: 6
  nullable: true
  ordinalPosition: 10
  dataTypeLength: 6
- name: OWNER
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: false
  ordinalPosition: 1
  dataTypeLength: 128
- name: PARTITIONING_KEY_COUNT
  dataType: NUMBER
  nullable: false
  ordinalPosition: 8
  dataTypeLength:
- name: PARTITIONING_TYPE
  dataType: VARCHAR2
  textMaxLength: 9
  nullable: true
  ordinalPosition: 4
  dataTypeLength: 9
- name: PARTITION_COUNT
  dataType: NUMBER
  nullable: false
  ordinalPosition: 6
  dataTypeLength:
- name: SUBPARTITIONING_KEY_COUNT
  dataType: NUMBER
  nullable: true
  ordinalPosition: 9
  dataTypeLength:
- name: SUBPARTITIONING_TYPE
  dataType: VARCHAR2
  textMaxLength: 9
  nullable: true
  ordinalPosition: 5
  dataTypeLength: 9
- name: TABLE_NAME
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: false
  ordinalPosition: 3
  dataTypeLength: 128
referencedTables:
- schema: SYS
  name: IND$
- schema: SYS
  name: OBJ$
- schema: SYS
  name: OBJAUTH$
- schema: SYS
  name: PARTOBJ$
- schema: SYS
  name: TS$
- schema: SYS
  name: USER$
- schema: SYS
  name: V$ENABLEDPRIVS
- schema: SYS
  name: X$KZSRO
viewDefinition: |-
  select
    u.name,
    io.name,
    o.name,
    decode(
      po.parttype,
      1,
      'RANGE',
      2,
      'HASH',
      3,
      'SYSTEM',
      4,
      'LIST',
      5,
      'REFERENCE',
      'UNKNOWN'
    ),
    decode(
      mod(po.spare2, 256),
      0,
      'NONE',
      1,
      'RANGE',
      2,
      'HASH',
      3,
      'SYSTEM',
      4,
      'LIST',
      5,
      'REFERENCE',
      'UNKNOWN'
    ),
    po.partcnt,
    mod(trunc(po.spare2 / 65536), 65536),
    po.partkeycols,
    mod(trunc(po.spare2 / 256), 256),
    decode(bitand(po.flags, 1), 1, 'LOCAL', 'GLOBAL'),
    decode(
      po.partkeycols,
      0,
      'NONE',
      decode(
        bitand(po.flags, 2),
        2,
        'PREFIXED',
        'NON_PREFIXED'
      )
    ),
    ts.name,
    po.defpctfree,
    po.definitrans,
    po.defmaxtrans,
    decode(po.deftiniexts, NULL, 'DEFAULT', po.deftiniexts),
    decode(po.defextsize, NULL, 'DEFAULT', po.defextsize),
    decode(po.defminexts, NULL, 'DEFAULT', po.defminexts),
    decode(po.defmaxexts, NULL, 'DEFAULT', po.defmaxexts),
    decode(po.defmaxsize, NULL, 'DEFAULT', po.defmaxsize),
    decode(po.defextpct, NULL, 'DEFAULT', po.defextpct),
    po.deflists,
    po.defgroups,
    decode(
      po.deflogging,
      0,
      'NONE',
      1,
      'YES',
      2,
      'NO',
      'UNKNOWN'
    ),
    decode(
      bitand(po.spare1, 3),
      1,
      'KEEP',
      2,
      'RECYCLE',
      'DEFAULT'
    ),
    decode(
      bitand(po.spare1, 12) / 4,
      1,
      'KEEP',
      2,
      'NONE',
      'DEFAULT'
    ),
    decode(
      bitand(po.spare1, 48) / 16,
      1,
      'KEEP',
      2,
      'NONE',
      'DEFAULT'
    ),
    po.parameters,
    case
      when (
        po.parttype = 5
        and bitand(po.flags, 64) = 64
      ) then 'YES'
      else po.interval_str
    end
  from
    sys.obj$ io,
    sys.obj$ o,
    sys.partobj$ po,
    sys.ts$ ts,
    sys.ind$ i,
    sys.user$ u
  where
    io.obj# = po.obj#
    and po.defts# = ts.ts# (+)
    and i.obj# = io.obj#
    and o.obj# = i.bo#
    and u.user# = io.owner#
    and i.type# != 8
    and
    /* not LOB index */
    io.subname IS NULL
    and io.namespace = 4
    and io.remoteowner IS NULL
    and io.linkname IS NULL
    and (
      io.owner# = userenv('SCHEMAID')
      or i.bo# in (
        select
          obj#
        from
          objauth$
        where
          grantee# in (
            select
              kzsrorol
            from
              x$kzsro
          )
      )
      or exists (
        select
          null
        from
          v$enabledprivs
        where
          priv_number in (
            -45
            /* LOCK ANY TABLE */,
            -47
            /* SELECT ANY TABLE */,
            -397
            /* READ ANY TABLE */,
            -48
            /* INSERT ANY TABLE */,
            -49
            /* UPDATE ANY TABLE */,
            -50
            /* DELETE ANY TABLE */
          )
      )
    )
