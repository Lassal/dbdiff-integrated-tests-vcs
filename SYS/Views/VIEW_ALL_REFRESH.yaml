schema: SYS
name: ALL_REFRESH
updatedAllowed: true
insertAllowed: true
columns: []
referencedTables: []
viewDefinition: |-
  select
    "ROWNER",
    "RNAME",
    "REFGROUP",
    "IMPLICIT_DESTROY",
    "PUSH_DEFERRED_RPC",
    "REFRESH_AFTER_ERRORS",
    "ROLLBACK_SEG",
    "JOB",
    "NEXT_DATE",
    "INTERVAL",
    "BROKEN",
    "PURGE_OPTION",
    "PARALLELISM",
    "HEAP_SIZE"
  from
    dba_refresh
  where
    (
      rowner = (
        select
          name
        from
          sys.user$
        where
          user # = userenv('SCHEMAID')
      )
    )
    or userenv('SCHEMAID') = 0
    or exists (
      select
        kzsrorol
      from
        x$kzsro x,
        sys.system_privilege_map m,
        sys.sysauth$ s
      where
        x.kzsrorol = s.grantee#
        and s.privilege# = m.privilege
        and m.name = 'ALTER ANY MATERIALIZED VIEW'
    )
