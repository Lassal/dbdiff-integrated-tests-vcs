schema: SYS
name: ALL_SCHEDULER_JOB_LOG
updatedAllowed: true
insertAllowed: true
columns:
- name: ADDITIONAL_INFO
  dataType: CLOB
  nullable: true
  ordinalPosition: 16
  dataTypeLength:
- name: CLIENT_ID
  dataType: VARCHAR2
  textMaxLength: 64
  nullable: true
  ordinalPosition: 10
  dataTypeLength: 64
- name: CREDENTIAL_NAME
  dataType: VARCHAR2
  textMaxLength: 261
  nullable: true
  ordinalPosition: 13
  dataTypeLength: 261
- name: CREDENTIAL_OWNER
  dataType: VARCHAR2
  textMaxLength: 261
  nullable: true
  ordinalPosition: 12
  dataTypeLength: 261
- name: DESTINATION
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: true
  ordinalPosition: 15
  dataTypeLength: 128
- name: DESTINATION_OWNER
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: true
  ordinalPosition: 14
  dataTypeLength: 128
- name: GLOBAL_UID
  dataType: VARCHAR2
  textMaxLength: 32
  nullable: true
  ordinalPosition: 11
  dataTypeLength: 32
- name: JOB_CLASS
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: true
  ordinalPosition: 6
  dataTypeLength: 128
- name: JOB_NAME
  dataType: VARCHAR2
  textMaxLength: 261
  nullable: true
  ordinalPosition: 4
  dataTypeLength: 261
- name: JOB_SUBNAME
  dataType: VARCHAR2
  textMaxLength: 261
  nullable: true
  ordinalPosition: 5
  dataTypeLength: 261
- name: LOG_DATE
  dataType: TIMESTAMP(6) WITH TIME ZONE
  numericScale: 6
  nullable: true
  ordinalPosition: 2
  dataTypeLength:
- name: LOG_ID
  dataType: NUMBER
  nullable: false
  ordinalPosition: 1
  dataTypeLength:
- name: OPERATION
  dataType: VARCHAR2
  textMaxLength: 30
  nullable: true
  ordinalPosition: 7
  dataTypeLength: 30
- name: OWNER
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: true
  ordinalPosition: 3
  dataTypeLength: 128
- name: STATUS
  dataType: VARCHAR2
  textMaxLength: 30
  nullable: true
  ordinalPosition: 8
  dataTypeLength: 30
- name: USER_NAME
  dataType: VARCHAR2
  textMaxLength: 128
  nullable: true
  ordinalPosition: 9
  dataTypeLength: 128
referencedTables:
- schema: SYS
  name: OBJ$
- schema: SYS
  name: OBJAUTH$
- schema: SYS
  name: SCHEDULER$_EVENT_LOG
- schema: SYS
  name: USER$
- schema: SYS
  name: V$ENABLEDPRIVS
- schema: SYS
  name: X$KZSRO
viewDefinition: |-
  (
    SELECT
      e.LOG_ID,
      e.LOG_DATE,
      e.OWNER,
      DECODE(
        instr(e.NAME, '"'),
        0,
        e.NAME,
        substr(e.NAME, 1, instr(e.NAME, '"') -1)
      ),
      DECODE(
        instr(e.NAME, '"'),
        0,
        NULL,
        substr(e.NAME, instr(e.NAME, '"') + 1)
      ),
      co.NAME,
      OPERATION,
      e.STATUS,
      e.USER_NAME,
      e.CLIENT_ID,
      e.GUID,
      decode(
        e.credential,
        NULL,
        NULL,
        substr(e.credential, 1, instr(e.credential, '"') -1)
      ),
      decode(
        e.credential,
        NULL,
        NULL,
        substr(
          e.credential,
          instr(e.credential, '"') + 1,
          length(e.credential) - instr(e.credential, '"')
        )
      ),
      decode(
        bitand(e.flags, 1),
        0,
        NULL,
        substr(e.destination, 1, instr(e.destination, '"') -1)
      ),
      decode(
        bitand(e.flags, 1),
        0,
        e.destination,
        substr(
          e.destination,
          instr(e.destination, '"') + 1,
          length(e.destination) - instr(e.destination, '"')
        )
      ),
      e.ADDITIONAL_INFO
    FROM
      scheduler$_event_log e,
      obj$ co
    WHERE
      e.type# = 66
      and e.dbid is null
      and e.class_id = co.obj#(+)
      AND (
        e.owner = SYS_CONTEXT('USERENV', 'CURRENT_SCHEMA')
        or
        /* user has object privileges */
        (
          select
            jo.obj#
          from
            obj$ jo,
            user $ ju
          where
            DECODE(
              instr(e.NAME, '"'),
              0,
              e.NAME,
              substr(e.NAME, 1, instr(e.NAME, '"') -1)
            ) = jo.name
            and e.owner = ju.name
            and jo.owner# = ju.user#
            and jo.subname is null
            and jo.type# = 66
        ) in (
          select
            oa.obj#
          from
            sys.objauth$ oa
          where
            grantee# in (
              select
                kzsrorol
              from
                x$kzsro
            )
        )
        or
        /* user has system privileges */
        (
          exists (
            select
              null
            from
              v$enabledprivs
            where
              priv_number = -265
              /* CREATE ANY JOB */
          )
          and e.owner != 'SYS'
        )
      )
  )
