schema: SYS
name: XDS_ACE
updatedAllowed: true
insertAllowed: true
columns:
- name: ACLID
  dataType: RAW
  nullable: true
  ordinalPosition: 1
  dataTypeLength:
- name: END_DATE
  dataType: TIMESTAMP(0)
  numericScale: 0
  nullable: true
  ordinalPosition: 3
  dataTypeLength:
- name: INVERT
  dataType: VARCHAR2
  textMaxLength: 5
  nullable: true
  ordinalPosition: 5
  dataTypeLength: 5
- name: IS_GRANT
  dataType: VARCHAR2
  textMaxLength: 5
  nullable: true
  ordinalPosition: 4
  dataTypeLength: 5
- name: PRINCIPAL
  dataType: VARCHAR2
  textMaxLength: 4000
  nullable: true
  ordinalPosition: 6
  dataTypeLength: 4000
- name: PRIVILEGE
  dataType: XMLTYPE
  nullable: true
  ordinalPosition: 7
  dataTypeLength:
- name: START_DATE
  dataType: TIMESTAMP(0)
  numericScale: 0
  nullable: true
  ordinalPosition: 2
  dataTypeLength:
referencedTables:
- schema: XDB
  name: XDB$ACL
viewDefinition: |-
  select
    a .object_id,
    extractvalue(
      value(b),
      '/ace/@start_date',
      'xmlns="http://xmlns.oracle.com/xdb/acl.xsd"'
    ),
    extractvalue(
      value(b),
      '/ace/@end_date',
      'xmlns="http://xmlns.oracle.com/xdb/acl.xsd"'
    ),
    substr(
      extractvalue(
        value(b),
        '/ace/grant',
        'xmlns="http://xmlns.oracle.com/xdb/acl.xsd"'
      ),
      1,
      5
    ),
    CASE
      existsNode(
        value(b),
        '/ace/invert',
        'xmlns="http://xmlns.oracle.com/xdb/acl.xsd"'
      )
      WHEN 1 THEN 'true'
      ELSE 'false'
    END,
    CASE
      existsNode(
        value(b),
        '/ace/invert',
        'xmlns="http://xmlns.oracle.com/xdb/acl.xsd"'
      )
      WHEN 1 THEN extractvalue(
        value(b),
        '/ace/invert/principal',
        'xmlns="http://xmlns.oracle.com/xdb/acl.xsd"'
      )
      ELSE extractvalue(
        value(b),
        '/ace/principal',
        'xmlns="http://xmlns.oracle.com/xdb/acl.xsd"'
      )
    END,
    extract(
      value(b),
      '/ace/privilege',
      'xmlns="http://xmlns.oracle.com/xdb/acl.xsd"'
    )
  from
    xdb.xdb$acl a,
    table(XMLSequence(extract(a .object_value, '/acl/ace'))) b
