schema: SYS
name: XDS_ACL
updatedAllowed: true
insertAllowed: true
columns:
- name: ACLID
  dataType: RAW
  nullable: true
  ordinalPosition: 1
  dataTypeLength:
- name: DESCRIPTION
  dataType: VARCHAR2
  textMaxLength: 4000
  nullable: true
  ordinalPosition: 3
  dataTypeLength: 4000
- name: INHERITANCE_TYPE
  dataType: VARCHAR2
  textMaxLength: 16
  nullable: true
  ordinalPosition: 7
  dataTypeLength: 16
- name: PARENT_ACL_PATH
  dataType: VARCHAR2
  textMaxLength: 4000
  nullable: true
  ordinalPosition: 6
  dataTypeLength: 4000
- name: SECURITY_CLASS_NAME
  dataType: XMLTYPE
  nullable: true
  ordinalPosition: 5
  dataTypeLength:
- name: SECURITY_CLASS_NS
  dataType: XMLTYPE
  nullable: true
  ordinalPosition: 4
  dataTypeLength:
- name: SHARED
  dataType: VARCHAR2
  textMaxLength: 5
  nullable: true
  ordinalPosition: 2
  dataTypeLength: 5
referencedTables:
- schema: XDB
  name: XDB$ACL
viewDefinition: |-
  select
    a .object_id,
    substr(
      extractvalue(
        a .object_value,
        '/acl/@shared',
        'xmlns="http://xmlns.oracle.com/xdb/acl.xsd"'
      ),
      1,
      5
    ),
    extractvalue(
      a .object_value,
      '/acl/@description',
      'xmlns="http://xmlns.oracle.com/xdb/acl.xsd"'
    ),
    xmlquery(
      'declare namespace a="http://xmlns.oracle.com/xdb/acl.xsd"; fn:namespace-uri-from-QName(fn:data(/a:acl/a:security-class))' PASSING OBJECT_VALUE returning content
    ),
    xmlquery(
      'declare namespace a="http://xmlns.oracle.com/xdb/acl.xsd"; fn:local-name-from-QName(fn:data(/a:acl/a:security-class))' PASSING OBJECT_VALUE returning content
    ),
    CASE
      existsNode(
        a .object_value,
        '/acl/extends-from',
        'xmlns="http://xmlns.oracle.com/xdb/acl.xsd"'
      )
      WHEN 1 THEN extractvalue(
        a .object_value,
        '/acl/extends-from/@href',
        'xmlns="http://xmlns.oracle.com/xdb/acl.xsd"'
      )
      ELSE (
        CASE
          existsNode(
            a .object_value,
            '/acl/constrained-with',
            'xmlns="http://xmlns.oracle.com/xdb/acl.xsd"'
          )
          WHEN 1 THEN extractvalue(
            a .object_value,
            '/acl/constrained-with/@href',
            'xmlns="http://xmlns.oracle.com/xdb/acl.xsd"'
          )
          ELSE NULL
        END
      )
    END,
    CASE
      existsNode(
        a .object_value,
        '/acl/extends-from',
        'xmlns="http://xmlns.oracle.com/xdb/acl.xsd"'
      )
      WHEN 1 THEN 'extends-from'
      ELSE (
        CASE
          existsNode(
            a .object_value,
            '/acl/constrained-with',
            'xmlns="http://xmlns.oracle.com/xdb/acl.xsd"'
          )
          WHEN 1 THEN 'constrained-with'
          ELSE NULL
        END
      )
    END
  FROM
    XDB.XDB$ACL a
