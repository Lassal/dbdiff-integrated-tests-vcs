schema: SYS
name: ALL_SQLSET_PLANS
updatedAllowed: true
insertAllowed: true
viewDefinition: |-
  select
    d.name as sqlset_name,
    d.owner as sqlset_owner,
    sqlset_id,
    s.con_dbid,
    sql_id,
    force_matching_signature,
    p.plan_hash_value,
    s.id as sql_seq,
    statement_id,
    plan_id,
    timestamp,
    remarks,
    operation,
    options,
    object_node,
    object_owner,
    object_name,
    object_alias,
    object_instance,
    object_type,
    optimizer,
    search_columns,
    l.id,
    parent_id,
    depth,
    position,
    cost,
    cardinality,
    bytes,
    other_tag,
    partition_start,
    partition_stop,
    partition_id,
    other,
    distribution,
    cpu_cost,
    io_cost,
    temp_space,
    access_predicates,
    filter_predicates,
    projection,
    time,
    qblock_name,
    other_xml,
    executions,
    starts,
    output_rows,
    cr_buffer_gets,
    cu_buffer_gets,
    disk_reads,
    disk_writes,
    elapsed_time,
    last_starts,
    last_output_rows,
    last_cr_buffer_gets,
    last_cu_buffer_gets,
    last_disk_reads,
    last_disk_writes,
    last_elapsed_time,
    policy,
    estimated_optimal_size,
    estimated_onepass_size,
    last_memory_used,
    last_execution,
    last_degree,
    total_executions,
    optimal_executions,
    onepass_executions,
    multipasses_executions,
    active_time,
    max_tempseg_size,
    last_tempseg_size
  from
    WRI$_SQLSET_DEFINITIONS d,
    WRI$_SQLSET_STATEMENTS s,
    WRI$_SQLSET_PLANS p,
    WRI$_SQLSET_PLAN_LINES l
  where
    d.id = s.sqlset_id
    and s.id = p.stmt_id
    and s.con_dbid = p.con_dbid
    and p.stmt_id = l.stmt_id
    and p.plan_hash_value = l.plan_hash_value
    and p.con_dbid = l.con_dbid
    and (
      d.owner = SYS_CONTEXT('USERENV', 'CURRENT_USER')
      OR EXISTS (
        select
          1
        from
          V$ENABLEDPRIVS
        where
          priv_number in (
            -273
            /*ADMINISTER ANY SQL TUNING SET*/
          )
      )
    )
columns: []
referencedTables: []
