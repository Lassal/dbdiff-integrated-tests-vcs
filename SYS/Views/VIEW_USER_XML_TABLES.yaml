schema: SYS
name: USER_XML_TABLES
updatedAllowed: true
insertAllowed: true
columns: []
referencedTables: []
viewDefinition: |-
  select
    o.name,
    null,
    null,
    null,
    case
      when bitand(opq.flags, 69) = 1 then 'OBJECT-RELATIONAL'
      when bitand(opq.flags, 69) = 68 then 'BINARY'
      else 'CLOB'
    end,
    case
      when bitand(opq.flags, 69) = 68 then case
        when bitand(opq.flags, 128) = 128 then 'YES'
        else 'NO'
      end
      else NULL
    end,
    case
      when bitand(opq.flags, 69) = 68 then case
        when bitand(opq.flags, 256) = 256 then 'NO'
        else 'YES'
      end
      else NULL
    end
  from
    sys.opqtype$ opq,
    sys.tab$ t,
    sys.obj$ o,
    sys.coltype$ ac,
    sys.col$ tc
  where
    o.owner# = userenv('SCHEMAID')
    and o.obj# = t.obj#
    and bitand(t.property, 1) = 1
    and t.obj# = tc.obj#
    and tc.name = 'SYS_NC_ROWINFO$'
    and tc.obj# = ac.obj#
    and tc.intcol# = ac.intcol#
    and ac.toid = '00000000000000000000000000020100'
    and tc.intcol# = opq.intcol#
    and tc.obj# = opq.obj#
    and bitand(opq.flags, 2) = 0
  union all
  select
    o.name,
    schm.xmldata.schema_url,
    schm.xmldata.schema_owner,
    decode(
      xel.xmldata.property.name,
      null,
      xel.xmldata.property.propref_name.name,
      xel.xmldata.property.name
    ),
    case
      when bitand(opq.flags, 69) = 1 then 'OBJECT-RELATIONAL'
      when bitand(opq.flags, 69) = 68 then 'BINARY'
      else 'CLOB'
    end,
    case
      when bitand(opq.flags, 69) = 68 then case
        when bitand(opq.flags, 128) = 128 then 'YES'
        else 'NO'
      end
      else NULL
    end,
    case
      when bitand(opq.flags, 69) = 68 then case
        when bitand(opq.flags, 256) = 256 then 'NO'
        else 'YES'
      end
      else NULL
    end
  from
    xdb.xdb$element xel,
    xdb.xdb$schema schm,
    sys.opqtype$ opq,
    sys.tab$ t,
    sys.obj$ o,
    sys.coltype$ ac,
    sys.col$ tc
  where
    o.owner# = userenv('SCHEMAID')
    and o.obj# = t.obj#
    and bitand(t.property, 1) = 1
    and t.obj# = tc.obj#
    and tc.name = 'SYS_NC_ROWINFO$'
    and tc.obj# = ac.obj#
    and tc.intcol# = ac.intcol#
    and ac.toid = '00000000000000000000000000020100'
    and tc.intcol# = opq.intcol#
    and tc.obj# = opq.obj#
    and opq.schemaoid = schm.sys_nc_oid$
    and bitand(opq.flags, 2) = 2
    and opq.elemnum = xel.xmldata.property.prop_number
